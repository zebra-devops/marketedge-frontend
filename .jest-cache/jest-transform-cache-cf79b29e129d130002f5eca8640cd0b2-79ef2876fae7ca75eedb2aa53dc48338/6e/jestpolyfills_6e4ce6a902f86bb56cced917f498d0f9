98a33105940457f5716c87e2b47062a7
// Jest polyfills for browser APIs
// TextEncoder/TextDecoder polyfill for Node.js
"use strict";
const { TextEncoder, TextDecoder } = require("util");
global.TextEncoder = TextEncoder;
global.TextDecoder = TextDecoder;
// Fetch polyfill
require("whatwg-fetch");
// URL polyfill
const { URL, URLSearchParams } = require("url");
global.URL = URL;
global.URLSearchParams = URLSearchParams;
// Web Streams polyfill
try {
    const { ReadableStream, WritableStream, TransformStream } = require("node:stream/web");
    if (!global.ReadableStream) global.ReadableStream = ReadableStream;
    if (!global.WritableStream) global.WritableStream = WritableStream;
    if (!global.TransformStream) global.TransformStream = TransformStream;
} catch (e) {
    // Fallback for older Node versions - provide minimal implementations
    console.warn("Web streams not available, using minimal polyfills");
    if (!global.ReadableStream) {
        global.ReadableStream = class ReadableStream {
        };
    }
    if (!global.TransformStream) {
        global.TransformStream = class TransformStream {
        };
    }
}
// AbortController polyfill
if (!global.AbortController) {
    global.AbortController = require("abort-controller").AbortController;
}
// BroadcastChannel polyfill (minimal implementation for testing)
if (!global.BroadcastChannel) {
    global.BroadcastChannel = class BroadcastChannel {
        constructor(name){
            this.name = name;
        }
        postMessage() {}
        close() {}
        addEventListener() {}
        removeEventListener() {}
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0L1NpdGVzL01hcmtldEVkZ2UvcGxhdGZvcm0td3JhcHBlci9mcm9udGVuZC9qZXN0LnBvbHlmaWxscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBKZXN0IHBvbHlmaWxscyBmb3IgYnJvd3NlciBBUElzXG5cbi8vIFRleHRFbmNvZGVyL1RleHREZWNvZGVyIHBvbHlmaWxsIGZvciBOb2RlLmpzXG5jb25zdCB7IFRleHRFbmNvZGVyLCBUZXh0RGVjb2RlciB9ID0gcmVxdWlyZSgndXRpbCcpXG5nbG9iYWwuVGV4dEVuY29kZXIgPSBUZXh0RW5jb2RlclxuZ2xvYmFsLlRleHREZWNvZGVyID0gVGV4dERlY29kZXJcblxuLy8gRmV0Y2ggcG9seWZpbGxcbnJlcXVpcmUoJ3doYXR3Zy1mZXRjaCcpXG5cbi8vIFVSTCBwb2x5ZmlsbFxuY29uc3QgeyBVUkwsIFVSTFNlYXJjaFBhcmFtcyB9ID0gcmVxdWlyZSgndXJsJylcbmdsb2JhbC5VUkwgPSBVUkxcbmdsb2JhbC5VUkxTZWFyY2hQYXJhbXMgPSBVUkxTZWFyY2hQYXJhbXNcblxuLy8gV2ViIFN0cmVhbXMgcG9seWZpbGxcbnRyeSB7XG4gIGNvbnN0IHsgUmVhZGFibGVTdHJlYW0sIFdyaXRhYmxlU3RyZWFtLCBUcmFuc2Zvcm1TdHJlYW0gfSA9IHJlcXVpcmUoJ25vZGU6c3RyZWFtL3dlYicpXG4gIGlmICghZ2xvYmFsLlJlYWRhYmxlU3RyZWFtKSBnbG9iYWwuUmVhZGFibGVTdHJlYW0gPSBSZWFkYWJsZVN0cmVhbVxuICBpZiAoIWdsb2JhbC5Xcml0YWJsZVN0cmVhbSkgZ2xvYmFsLldyaXRhYmxlU3RyZWFtID0gV3JpdGFibGVTdHJlYW1cbiAgaWYgKCFnbG9iYWwuVHJhbnNmb3JtU3RyZWFtKSBnbG9iYWwuVHJhbnNmb3JtU3RyZWFtID0gVHJhbnNmb3JtU3RyZWFtXG59IGNhdGNoIChlKSB7XG4gIC8vIEZhbGxiYWNrIGZvciBvbGRlciBOb2RlIHZlcnNpb25zIC0gcHJvdmlkZSBtaW5pbWFsIGltcGxlbWVudGF0aW9uc1xuICBjb25zb2xlLndhcm4oJ1dlYiBzdHJlYW1zIG5vdCBhdmFpbGFibGUsIHVzaW5nIG1pbmltYWwgcG9seWZpbGxzJylcbiAgaWYgKCFnbG9iYWwuUmVhZGFibGVTdHJlYW0pIHtcbiAgICBnbG9iYWwuUmVhZGFibGVTdHJlYW0gPSBjbGFzcyBSZWFkYWJsZVN0cmVhbSB7fVxuICB9XG4gIGlmICghZ2xvYmFsLlRyYW5zZm9ybVN0cmVhbSkge1xuICAgIGdsb2JhbC5UcmFuc2Zvcm1TdHJlYW0gPSBjbGFzcyBUcmFuc2Zvcm1TdHJlYW0ge31cbiAgfVxufVxuXG4vLyBBYm9ydENvbnRyb2xsZXIgcG9seWZpbGxcbmlmICghZ2xvYmFsLkFib3J0Q29udHJvbGxlcikge1xuICBnbG9iYWwuQWJvcnRDb250cm9sbGVyID0gcmVxdWlyZSgnYWJvcnQtY29udHJvbGxlcicpLkFib3J0Q29udHJvbGxlclxufVxuXG4vLyBCcm9hZGNhc3RDaGFubmVsIHBvbHlmaWxsIChtaW5pbWFsIGltcGxlbWVudGF0aW9uIGZvciB0ZXN0aW5nKVxuaWYgKCFnbG9iYWwuQnJvYWRjYXN0Q2hhbm5lbCkge1xuICBnbG9iYWwuQnJvYWRjYXN0Q2hhbm5lbCA9IGNsYXNzIEJyb2FkY2FzdENoYW5uZWwge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB9XG4gICAgcG9zdE1lc3NhZ2UoKSB7fVxuICAgIGNsb3NlKCkge31cbiAgICBhZGRFdmVudExpc3RlbmVyKCkge31cbiAgICByZW1vdmVFdmVudExpc3RlbmVyKCkge31cbiAgfVxufSJdLCJuYW1lcyI6WyJUZXh0RW5jb2RlciIsIlRleHREZWNvZGVyIiwicmVxdWlyZSIsImdsb2JhbCIsIlVSTCIsIlVSTFNlYXJjaFBhcmFtcyIsIlJlYWRhYmxlU3RyZWFtIiwiV3JpdGFibGVTdHJlYW0iLCJUcmFuc2Zvcm1TdHJlYW0iLCJlIiwiY29uc29sZSIsIndhcm4iLCJBYm9ydENvbnRyb2xsZXIiLCJCcm9hZGNhc3RDaGFubmVsIiwiY29uc3RydWN0b3IiLCJuYW1lIiwicG9zdE1lc3NhZ2UiLCJjbG9zZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiQUFBQSxrQ0FBa0M7QUFFbEMsK0NBQStDOztBQUMvQyxNQUFNLEVBQUVBLFdBQVcsRUFBRUMsV0FBVyxFQUFFLEdBQUdDLFFBQVE7QUFDN0NDLE9BQU9ILFdBQVcsR0FBR0E7QUFDckJHLE9BQU9GLFdBQVcsR0FBR0E7QUFFckIsaUJBQWlCO0FBQ2pCQyxRQUFRO0FBRVIsZUFBZTtBQUNmLE1BQU0sRUFBRUUsR0FBRyxFQUFFQyxlQUFlLEVBQUUsR0FBR0gsUUFBUTtBQUN6Q0MsT0FBT0MsR0FBRyxHQUFHQTtBQUNiRCxPQUFPRSxlQUFlLEdBQUdBO0FBRXpCLHVCQUF1QjtBQUN2QixJQUFJO0lBQ0YsTUFBTSxFQUFFQyxjQUFjLEVBQUVDLGNBQWMsRUFBRUMsZUFBZSxFQUFFLEdBQUdOLFFBQVE7SUFDcEUsSUFBSSxDQUFDQyxPQUFPRyxjQUFjLEVBQUVILE9BQU9HLGNBQWMsR0FBR0E7SUFDcEQsSUFBSSxDQUFDSCxPQUFPSSxjQUFjLEVBQUVKLE9BQU9JLGNBQWMsR0FBR0E7SUFDcEQsSUFBSSxDQUFDSixPQUFPSyxlQUFlLEVBQUVMLE9BQU9LLGVBQWUsR0FBR0E7QUFDeEQsRUFBRSxPQUFPQyxHQUFHO0lBQ1YscUVBQXFFO0lBQ3JFQyxRQUFRQyxJQUFJLENBQUM7SUFDYixJQUFJLENBQUNSLE9BQU9HLGNBQWMsRUFBRTtRQUMxQkgsT0FBT0csY0FBYyxHQUFHLE1BQU1BO1FBQWdCO0lBQ2hEO0lBQ0EsSUFBSSxDQUFDSCxPQUFPSyxlQUFlLEVBQUU7UUFDM0JMLE9BQU9LLGVBQWUsR0FBRyxNQUFNQTtRQUFpQjtJQUNsRDtBQUNGO0FBRUEsMkJBQTJCO0FBQzNCLElBQUksQ0FBQ0wsT0FBT1MsZUFBZSxFQUFFO0lBQzNCVCxPQUFPUyxlQUFlLEdBQUdWLFFBQVEsb0JBQW9CVSxlQUFlO0FBQ3RFO0FBRUEsaUVBQWlFO0FBQ2pFLElBQUksQ0FBQ1QsT0FBT1UsZ0JBQWdCLEVBQUU7SUFDNUJWLE9BQU9VLGdCQUFnQixHQUFHLE1BQU1BO1FBQzlCQyxZQUFZQyxJQUFJLENBQUU7WUFDaEIsSUFBSSxDQUFDQSxJQUFJLEdBQUdBO1FBQ2Q7UUFDQUMsY0FBYyxDQUFDO1FBQ2ZDLFFBQVEsQ0FBQztRQUNUQyxtQkFBbUIsQ0FBQztRQUNwQkMsc0JBQXNCLENBQUM7SUFDekI7QUFDRiJ9