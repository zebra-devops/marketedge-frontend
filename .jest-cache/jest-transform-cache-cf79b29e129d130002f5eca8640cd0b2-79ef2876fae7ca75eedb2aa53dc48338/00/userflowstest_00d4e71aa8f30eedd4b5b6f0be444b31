532388c4ca2c3cbd9baf4c8fef748b57
/**
 * Integration Tests for Key User Flows
 * 
 * Tests complete user journeys across the multi-tenant platform
 * including authentication, navigation, and industry-specific workflows
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _msw = require("msw");
const _jestsetup = require("../../../jest.setup");
const _testutils = require("../../utils/test-utils");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock the main application layout and key components
const MockApp = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        "data-testid": "app-layout",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("header", {
                "data-testid": "app-header",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("nav", {
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                            href: "/dashboard",
                            "data-testid": "nav-dashboard",
                            children: "Dashboard"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                            href: "/market-edge",
                            "data-testid": "nav-market-edge",
                            children: "Market Edge"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                            href: "/admin",
                            "data-testid": "nav-admin",
                            children: "Admin"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            "data-testid": "user-menu",
                            children: "User Menu"
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("main", {
                "data-testid": "app-content",
                children: children
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("footer", {
                "data-testid": "app-footer",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                    children: "Platform Wrapper \xa9 2025"
                })
            })
        ]
    });
const MockDashboard = ({ industry })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        "data-testid": "dashboard-page",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                children: "Dashboard"
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "industry-indicator",
                children: [
                    "Industry: ",
                    industry || "general"
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "dashboard-widgets",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        "data-testid": "performance-widget",
                        children: "Performance Metrics"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        "data-testid": "alerts-widget",
                        children: "Recent Alerts"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        "data-testid": "quick-actions",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                "data-testid": "view-competitors",
                                children: "View Competitors"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                "data-testid": "manage-settings",
                                children: "Manage Settings"
                            })
                        ]
                    })
                ]
            })
        ]
    });
const MockMarketEdge = ({ industry })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        "data-testid": "market-edge-page",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                children: "Market Edge"
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "industry-context",
                children: [
                    "Industry: ",
                    industry || "general"
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "market-selector",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                    "data-testid": "market-select",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                            value: "",
                            children: "Select Market"
                        }),
                        industry === "cinema" && /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                    value: "cinema-downtown",
                                    children: "Downtown Cinema"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                    value: "cinema-mall",
                                    children: "Mall Cinema"
                                })
                            ]
                        }),
                        industry === "hotel" && /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                    value: "hotel-luxury",
                                    children: "Luxury Hotels"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                    value: "hotel-business",
                                    children: "Business Hotels"
                                })
                            ]
                        }),
                        (!industry || industry === "general") && /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                    value: "general-local",
                                    children: "Local Market"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                    value: "general-regional",
                                    children: "Regional Market"
                                })
                            ]
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "competitor-table",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                        children: "Competitors"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("table", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("thead", {
                                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("tr", {
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("th", {
                                            children: "Name"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("th", {
                                            children: "Market Share"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("th", {
                                            children: "Pricing"
                                        })
                                    ]
                                })
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("tbody", {
                                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("tr", {
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("td", {
                                            children: "Competitor 1"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("td", {
                                            children: "25%"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("td", {
                                            children: "Premium"
                                        })
                                    ]
                                })
                            })
                        ]
                    })
                ]
            })
        ]
    });
const MockAdmin = ()=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        "data-testid": "admin-page",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                children: "Admin Panel"
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("nav", {
                "data-testid": "admin-nav",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "admin-stats",
                        children: "Statistics"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "admin-users",
                        children: "Manage Users"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "admin-orgs",
                        children: "Manage Organizations"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "admin-features",
                        children: "Feature Flags"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "admin-rate-limits",
                        children: "Rate Limiting"
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "admin-content",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    "data-testid": "system-health",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                            children: "System Health"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            "data-testid": "health-status",
                            children: "Status: Healthy"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            "data-testid": "active-users",
                            children: "Active Users: 230"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            "data-testid": "total-orgs",
                            children: "Organizations: 45"
                        })
                    ]
                })
            })
        ]
    });
const MockLogin = ({ onLogin })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        "data-testid": "login-page",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                children: "Login"
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("form", {
                onSubmit: (e)=>{
                    e.preventDefault();
                    onLogin();
                },
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                        type: "email",
                        placeholder: "Email",
                        "data-testid": "login-email",
                        required: true
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                        type: "password",
                        placeholder: "Password",
                        "data-testid": "login-password",
                        required: true
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        type: "submit",
                        "data-testid": "login-submit",
                        children: "Sign In"
                    })
                ]
            })
        ]
    });
describe("User Flow Integration Tests", ()=>{
    describe("Authentication Flow", ()=>{
        it("allows user to login and access dashboard", async ()=>{
            const user = (0, _testutils.createTestUser)({
                role: "user"
            });
            const organisation = (0, _testutils.createTestOrganisation)("general");
            _testutils.mockApiEndpoints.mockAuth(user);
            _testutils.mockApiEndpoints.mockOrganisation(organisation);
            let isLoggedIn = false;
            const handleLogin = ()=>{
                isLoggedIn = true;
            };
            // Start unauthenticated
            const { rerender, user: userEvent } = (0, _testutils.renderUnauthenticated)(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockLogin, {
                    onLogin: handleLogin
                })
            }));
            expect(_react1.screen.getByTestId("login-page")).toBeInTheDocument();
            // Fill out login form
            await userEvent.type(_react1.screen.getByTestId("login-email"), user.email);
            await userEvent.type(_react1.screen.getByTestId("login-password"), "password123");
            await userEvent.click(_react1.screen.getByTestId("login-submit"));
            // Simulate successful login and redirect
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockDashboard, {
                    industry: organisation.industry
                })
            }), {
                user,
                organisation,
                isAuthenticated: true
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId("dashboard-page")).toBeInTheDocument();
            });
            expect(_react1.screen.getByText("Dashboard")).toBeInTheDocument();
            expect(_react1.screen.getByTestId("industry-indicator")).toHaveTextContent("Industry: general");
        });
        it("redirects unauthenticated users to login", async ()=>{
            const { user } = (0, _testutils.renderUnauthenticated)(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockLogin, {
                    onLogin: ()=>{}
                })
            }));
            expect(_react1.screen.getByTestId("login-page")).toBeInTheDocument();
            // Try to navigate to protected route
            await user.click(_react1.screen.getByTestId("nav-dashboard"));
            // Should still see login page (in real app, router would handle this)
            expect(_react1.screen.getByTestId("login-page")).toBeInTheDocument();
        });
    });
    describe("Dashboard to Market Edge Navigation Flow", ()=>{
        it("allows seamless navigation between dashboard and market edge", async ()=>{
            const user = (0, _testutils.createTestUser)({
                role: "user"
            });
            const organisation = (0, _testutils.createTestOrganisation)("cinema");
            _testutils.mockApiEndpoints.mockAuth(user);
            _testutils.mockApiEndpoints.mockOrganisation(organisation);
            _testutils.mockApiEndpoints.mockMarketEdge();
            // Start on dashboard
            const { rerender, user: userEvent } = (0, _testutils.renderForIndustry)(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockDashboard, {
                    industry: organisation.industry
                })
            }), "cinema");
            expect(_react1.screen.getByTestId("dashboard-page")).toBeInTheDocument();
            expect(_react1.screen.getByTestId("industry-indicator")).toHaveTextContent("Industry: cinema");
            // Navigate to Market Edge from dashboard quick action
            await userEvent.click(_react1.screen.getByTestId("view-competitors"));
            // Simulate navigation to Market Edge
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockMarketEdge, {
                    industry: organisation.industry
                })
            }), {
                industryType: "cinema"
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId("market-edge-page")).toBeInTheDocument();
            });
            expect(_react1.screen.getByText("Market Edge")).toBeInTheDocument();
            expect(_react1.screen.getByTestId("industry-context")).toHaveTextContent("Industry: cinema");
            // Should see cinema-specific market options
            expect(_react1.screen.getByText("Downtown Cinema")).toBeInTheDocument();
            expect(_react1.screen.getByText("Mall Cinema")).toBeInTheDocument();
        });
    });
    describe("Industry-Specific User Flows", ()=>{
        describe("Cinema Industry Flow", ()=>{
            beforeEach(()=>{
                _testutils.industryTestScenarios.cinema.ticketingSystem();
                _testutils.industryTestScenarios.cinema.highTrafficRateLimiting();
            });
            it("supports complete cinema management workflow", async ()=>{
                const cinemaUser = (0, _testutils.createTestUser)({
                    role: "user"
                }, "cinema");
                const cinemaOrg = (0, _testutils.createTestOrganisation)("cinema");
                _testutils.mockApiEndpoints.mockAuth(cinemaUser);
                _testutils.mockApiEndpoints.mockOrganisation(cinemaOrg);
                const { user } = (0, _testutils.renderForIndustry)(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockDashboard, {
                        industry: "cinema"
                    })
                }), "cinema");
                // Should see cinema-specific dashboard
                expect(_react1.screen.getByTestId("industry-indicator")).toHaveTextContent("Industry: cinema");
                // Navigate to Market Edge
                await user.click(_react1.screen.getByTestId("view-competitors"));
                // Simulate navigation
                const { rerender } = (0, _testutils.renderForIndustry)(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockMarketEdge, {
                        industry: "cinema"
                    })
                }), "cinema");
                // Should have cinema-specific options
                const marketSelect = _react1.screen.getByTestId("market-select");
                await user.selectOptions(marketSelect, "cinema-downtown");
                expect(marketSelect).toHaveValue("cinema-downtown");
                // Should see competitor data relevant to cinema industry
                expect(_react1.screen.getByTestId("competitor-table")).toBeInTheDocument();
                expect(_react1.screen.getByText("Competitors")).toBeInTheDocument();
            });
        });
        describe("Hotel Industry Flow", ()=>{
            beforeEach(()=>{
                _testutils.industryTestScenarios.hotel.realTimePricing();
            });
            it("supports hotel pricing and competitor analysis workflow", async ()=>{
                const hotelUser = (0, _testutils.createTestUser)({
                    role: "user"
                }, "hotel");
                const hotelOrg = (0, _testutils.createTestOrganisation)("hotel");
                const { user } = (0, _testutils.renderForIndustry)(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockMarketEdge, {
                        industry: "hotel"
                    })
                }), "hotel");
                expect(_react1.screen.getByTestId("industry-context")).toHaveTextContent("Industry: hotel");
                // Select hotel market segment
                const marketSelect = _react1.screen.getByTestId("market-select");
                await user.selectOptions(marketSelect, "hotel-luxury");
                expect(marketSelect).toHaveValue("hotel-luxury");
                // Should integrate with real-time pricing data
                await (0, _react1.waitFor)(()=>{
                    expect(_react1.screen.getByTestId("competitor-table")).toBeInTheDocument();
                });
            });
        });
        describe("Gym Industry Flow", ()=>{
            beforeEach(()=>{
                _testutils.industryTestScenarios.gym.membershipTracking();
            });
            it("supports gym membership and competition analysis", async ()=>{
                const gymUser = (0, _testutils.createTestUser)({
                    role: "user"
                }, "gym");
                const gymOrg = (0, _testutils.createTestOrganisation)("gym");
                const { user } = (0, _testutils.renderForIndustry)(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockDashboard, {
                        industry: "gym"
                    })
                }), "gym");
                expect(_react1.screen.getByTestId("industry-indicator")).toHaveTextContent("Industry: gym");
                // Should have gym-specific performance metrics
                expect(_react1.screen.getByTestId("performance-widget")).toBeInTheDocument();
                // Navigate to competitor analysis
                await user.click(_react1.screen.getByTestId("view-competitors"));
                // Should see gym-specific competitor data
                const { rerender } = (0, _testutils.renderForIndustry)(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockMarketEdge, {
                        industry: "gym"
                    })
                }), "gym");
                expect(_react1.screen.getByTestId("industry-context")).toHaveTextContent("Industry: gym");
            });
        });
    });
    describe("Admin User Flows", ()=>{
        it("allows admin to access all system management features", async ()=>{
            const adminUser = (0, _testutils.createTestUser)({
                role: "admin"
            });
            _testutils.mockApiEndpoints.mockAuth(adminUser);
            _testutils.mockApiEndpoints.mockAdmin();
            _testutils.mockApiEndpoints.mockRateLimiting();
            const { user } = (0, _testutils.renderAsAdmin)(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockAdmin, {})
            }));
            expect(_react1.screen.getByTestId("admin-page")).toBeInTheDocument();
            // Should see admin navigation
            expect(_react1.screen.getByTestId("admin-nav")).toBeInTheDocument();
            // Check system health
            expect(_react1.screen.getByTestId("system-health")).toBeInTheDocument();
            expect(_react1.screen.getByTestId("health-status")).toHaveTextContent("Status: Healthy");
            // Navigate to different admin sections
            await user.click(_react1.screen.getByTestId("admin-stats"));
            expect(_react1.screen.getByTestId("admin-stats")).toBeInTheDocument();
            await user.click(_react1.screen.getByTestId("admin-rate-limits"));
            expect(_react1.screen.getByTestId("admin-rate-limits")).toBeInTheDocument();
        });
        it("allows admin to manage multi-tenant data", async ()=>{
            const adminUser = (0, _testutils.createTestUser)({
                role: "admin"
            });
            const organisations = [
                (0, _testutils.createTestOrganisation)("cinema"),
                (0, _testutils.createTestOrganisation)("hotel"),
                (0, _testutils.createTestOrganisation)("gym")
            ];
            _testutils.mockApiEndpoints.mockAuth(adminUser);
            _testutils.mockApiEndpoints.mockAdmin();
            const { user } = (0, _testutils.renderAsAdmin)(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockAdmin, {})
            }));
            // Should see aggregated statistics
            expect(_react1.screen.getByTestId("system-health")).toBeInTheDocument();
            // Navigate to organization management
            await user.click(_react1.screen.getByTestId("admin-orgs"));
            // Should be able to manage organizations across all industries
            expect(_react1.screen.getByTestId("admin-orgs")).toBeInTheDocument();
        });
    });
    describe("Error Handling Flows", ()=>{
        it("handles API errors gracefully during user flows", async ()=>{
            const user = (0, _testutils.createTestUser)({
                role: "user"
            });
            // Mock API failure
            _jestsetup.server.use(_msw.http.get("/api/v1/auth/me", ()=>{
                return _msw.HttpResponse.error();
            }), _msw.http.get("/api/v1/market-edge/*", ()=>{
                return _msw.HttpResponse.error();
            }));
            const { user: userEvent } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockMarketEdge, {})
            }), {
                user,
                isAuthenticated: true
            });
            // Should handle errors gracefully
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId("market-edge-page")).toBeInTheDocument();
            });
            // Component should still render with fallback data
            expect(_react1.screen.getByTestId("market-selector")).toBeInTheDocument();
        });
        it("handles rate limiting during user flows", async ()=>{
            const user = (0, _testutils.createTestUser)({
                role: "user"
            });
            // Mock rate limiting response
            _jestsetup.server.use(_msw.http.get("/api/v1/market-edge/*", ()=>{
                return new _msw.HttpResponse(JSON.stringify({
                    detail: "Rate limit exceeded"
                }), {
                    status: 429,
                    headers: {
                        "X-RateLimit-Remaining": "0",
                        "X-RateLimit-Reset": String(Date.now() + 60000),
                        "Retry-After": "60"
                    }
                });
            }));
            const { user: userEvent } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockMarketEdge, {})
            }), {
                user,
                isAuthenticated: true
            });
            // Try to trigger API call
            const marketSelect = _react1.screen.getByTestId("market-select");
            await userEvent.selectOptions(marketSelect, "general-local");
            // Should show rate limiting message or handle gracefully
            await (0, _react1.waitFor)(()=>{
                // Component should still be functional with cached/fallback data
                expect(_react1.screen.getByTestId("market-edge-page")).toBeInTheDocument();
            });
        });
    });
    describe("Cross-tenant Data Isolation", ()=>{
        it("properly isolates data between different tenants", async ()=>{
            const tenant1User = (0, _testutils.createTestUser)({
                organisation_id: "tenant-1"
            });
            const tenant1Org = (0, _testutils.createTestOrganisation)("cinema", {
                id: "tenant-1"
            });
            const tenant2User = (0, _testutils.createTestUser)({
                organisation_id: "tenant-2"
            });
            const tenant2Org = (0, _testutils.createTestOrganisation)("hotel", {
                id: "tenant-2"
            });
            // Start with tenant 1
            const { rerender } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockDashboard, {
                    industry: "cinema"
                })
            }), {
                user: tenant1User,
                organisation: tenant1Org
            });
            expect(_react1.screen.getByTestId("industry-indicator")).toHaveTextContent("Industry: cinema");
            // Switch to tenant 2 (simulate user switching organizations or logging in as different user)
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockDashboard, {
                    industry: "hotel"
                })
            }), {
                user: tenant2User,
                organisation: tenant2Org
            });
            // Should see different industry-specific data
            expect(_react1.screen.getByTestId("industry-indicator")).toHaveTextContent("Industry: hotel");
            // Data should be completely isolated - no cinema data should be visible
            const { rerender: rerender2 } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockMarketEdge, {
                    industry: "hotel"
                })
            }), {
                user: tenant2User,
                organisation: tenant2Org
            });
            // Should only see hotel-specific options
            expect(_react1.screen.queryByText("Downtown Cinema")).not.toBeInTheDocument();
            expect(_react1.screen.getByText("Luxury Hotels")).toBeInTheDocument();
        });
    });
    describe("Performance and User Experience", ()=>{
        it("provides fast navigation between pages", async ()=>{
            const user = (0, _testutils.createTestUser)({
                role: "user"
            });
            const organisation = (0, _testutils.createTestOrganisation)("general");
            const { user: userEvent } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockDashboard, {})
            }), {
                user,
                organisation
            });
            const startTime = performance.now();
            // Navigate to Market Edge
            await userEvent.click(_react1.screen.getByTestId("view-competitors"));
            // Simulate fast navigation
            const endTime = performance.now();
            const navigationTime = endTime - startTime;
            // Navigation should be fast (under 100ms for simulated navigation)
            expect(navigationTime).toBeLessThan(100);
        });
        it("maintains state during navigation", async ()=>{
            const user = (0, _testutils.createTestUser)({
                role: "user"
            });
            const organisation = (0, _testutils.createTestOrganisation)("cinema");
            const { user: userEvent, rerender } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockMarketEdge, {
                    industry: "cinema"
                })
            }), {
                user,
                organisation
            });
            // Select market
            const marketSelect = _react1.screen.getByTestId("market-select");
            await userEvent.selectOptions(marketSelect, "cinema-downtown");
            expect(marketSelect).toHaveValue("cinema-downtown");
            // Navigate away and back
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockDashboard, {
                    industry: "cinema"
                })
            }));
            expect(_react1.screen.getByTestId("dashboard-page")).toBeInTheDocument();
            // Navigate back to Market Edge
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(MockApp, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MockMarketEdge, {
                    industry: "cinema"
                })
            }));
            // State should be maintained (in real app, this would be handled by state management)
            expect(_react1.screen.getByTestId("market-edge-page")).toBeInTheDocument();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0L1NpdGVzL01hcmtldEVkZ2UvcGxhdGZvcm0td3JhcHBlci9mcm9udGVuZC9zcmMvX190ZXN0c19fL2ludGVncmF0aW9uL3VzZXItZmxvd3MudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJbnRlZ3JhdGlvbiBUZXN0cyBmb3IgS2V5IFVzZXIgRmxvd3NcbiAqIFxuICogVGVzdHMgY29tcGxldGUgdXNlciBqb3VybmV5cyBhY3Jvc3MgdGhlIG11bHRpLXRlbmFudCBwbGF0Zm9ybVxuICogaW5jbHVkaW5nIGF1dGhlbnRpY2F0aW9uLCBuYXZpZ2F0aW9uLCBhbmQgaW5kdXN0cnktc3BlY2lmaWMgd29ya2Zsb3dzXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgc2NyZWVuLCB3YWl0Rm9yLCB3aXRoaW4gfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0J1xuaW1wb3J0IHsgaHR0cCwgSHR0cFJlc3BvbnNlIH0gZnJvbSAnbXN3J1xuaW1wb3J0IHsgc2VydmVyIH0gZnJvbSAnLi4vLi4vLi4vamVzdC5zZXR1cCdcbmltcG9ydCB7XG4gIHJlbmRlcldpdGhQcm92aWRlcnMsXG4gIHJlbmRlckZvckluZHVzdHJ5LFxuICByZW5kZXJBc0FkbWluLFxuICByZW5kZXJVbmF1dGhlbnRpY2F0ZWQsXG4gIG1vY2tBcGlFbmRwb2ludHMsXG4gIGNyZWF0ZVRlc3RVc2VyLFxuICBjcmVhdGVUZXN0T3JnYW5pc2F0aW9uLFxuICB3YWl0Rm9yTG9hZGluZ1RvRmluaXNoLFxuICBpbmR1c3RyeVRlc3RTY2VuYXJpb3MsXG59IGZyb20gJy4uLy4uL3V0aWxzL3Rlc3QtdXRpbHMnXG5cbi8vIE1vY2sgdGhlIG1haW4gYXBwbGljYXRpb24gbGF5b3V0IGFuZCBrZXkgY29tcG9uZW50c1xuY29uc3QgTW9ja0FwcDogUmVhY3QuRkM8eyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0+ID0gKHsgY2hpbGRyZW4gfSkgPT4gKFxuICA8ZGl2IGRhdGEtdGVzdGlkPVwiYXBwLWxheW91dFwiPlxuICAgIDxoZWFkZXIgZGF0YS10ZXN0aWQ9XCJhcHAtaGVhZGVyXCI+XG4gICAgICA8bmF2PlxuICAgICAgICA8YSBocmVmPVwiL2Rhc2hib2FyZFwiIGRhdGEtdGVzdGlkPVwibmF2LWRhc2hib2FyZFwiPkRhc2hib2FyZDwvYT5cbiAgICAgICAgPGEgaHJlZj1cIi9tYXJrZXQtZWRnZVwiIGRhdGEtdGVzdGlkPVwibmF2LW1hcmtldC1lZGdlXCI+TWFya2V0IEVkZ2U8L2E+XG4gICAgICAgIDxhIGhyZWY9XCIvYWRtaW5cIiBkYXRhLXRlc3RpZD1cIm5hdi1hZG1pblwiPkFkbWluPC9hPlxuICAgICAgICA8YnV0dG9uIGRhdGEtdGVzdGlkPVwidXNlci1tZW51XCI+VXNlciBNZW51PC9idXR0b24+XG4gICAgICA8L25hdj5cbiAgICA8L2hlYWRlcj5cbiAgICA8bWFpbiBkYXRhLXRlc3RpZD1cImFwcC1jb250ZW50XCI+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9tYWluPlxuICAgIDxmb290ZXIgZGF0YS10ZXN0aWQ9XCJhcHAtZm9vdGVyXCI+XG4gICAgICA8cD5QbGF0Zm9ybSBXcmFwcGVyIMKpIDIwMjU8L3A+XG4gICAgPC9mb290ZXI+XG4gIDwvZGl2PlxuKVxuXG5jb25zdCBNb2NrRGFzaGJvYXJkOiBSZWFjdC5GQzx7IGluZHVzdHJ5Pzogc3RyaW5nIH0+ID0gKHsgaW5kdXN0cnkgfSkgPT4gKFxuICA8ZGl2IGRhdGEtdGVzdGlkPVwiZGFzaGJvYXJkLXBhZ2VcIj5cbiAgICA8aDE+RGFzaGJvYXJkPC9oMT5cbiAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiaW5kdXN0cnktaW5kaWNhdG9yXCI+SW5kdXN0cnk6IHtpbmR1c3RyeSB8fCAnZ2VuZXJhbCd9PC9kaXY+XG4gICAgPGRpdiBkYXRhLXRlc3RpZD1cImRhc2hib2FyZC13aWRnZXRzXCI+XG4gICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwicGVyZm9ybWFuY2Utd2lkZ2V0XCI+UGVyZm9ybWFuY2UgTWV0cmljczwvZGl2PlxuICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cImFsZXJ0cy13aWRnZXRcIj5SZWNlbnQgQWxlcnRzPC9kaXY+XG4gICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwicXVpY2stYWN0aW9uc1wiPlxuICAgICAgICA8YnV0dG9uIGRhdGEtdGVzdGlkPVwidmlldy1jb21wZXRpdG9yc1wiPlZpZXcgQ29tcGV0aXRvcnM8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBkYXRhLXRlc3RpZD1cIm1hbmFnZS1zZXR0aW5nc1wiPk1hbmFnZSBTZXR0aW5nczwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuKVxuXG5jb25zdCBNb2NrTWFya2V0RWRnZTogUmVhY3QuRkM8eyBpbmR1c3RyeT86IHN0cmluZyB9PiA9ICh7IGluZHVzdHJ5IH0pID0+IChcbiAgPGRpdiBkYXRhLXRlc3RpZD1cIm1hcmtldC1lZGdlLXBhZ2VcIj5cbiAgICA8aDE+TWFya2V0IEVkZ2U8L2gxPlxuICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJpbmR1c3RyeS1jb250ZXh0XCI+SW5kdXN0cnk6IHtpbmR1c3RyeSB8fCAnZ2VuZXJhbCd9PC9kaXY+XG4gICAgPGRpdiBkYXRhLXRlc3RpZD1cIm1hcmtldC1zZWxlY3RvclwiPlxuICAgICAgPHNlbGVjdCBkYXRhLXRlc3RpZD1cIm1hcmtldC1zZWxlY3RcIj5cbiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdCBNYXJrZXQ8L29wdGlvbj5cbiAgICAgICAge2luZHVzdHJ5ID09PSAnY2luZW1hJyAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJjaW5lbWEtZG93bnRvd25cIj5Eb3dudG93biBDaW5lbWE8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJjaW5lbWEtbWFsbFwiPk1hbGwgQ2luZW1hPC9vcHRpb24+XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICAgIHtpbmR1c3RyeSA9PT0gJ2hvdGVsJyAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJob3RlbC1sdXh1cnlcIj5MdXh1cnkgSG90ZWxzPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiaG90ZWwtYnVzaW5lc3NcIj5CdXNpbmVzcyBIb3RlbHM8L29wdGlvbj5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKX1cbiAgICAgICAgeyghaW5kdXN0cnkgfHwgaW5kdXN0cnkgPT09ICdnZW5lcmFsJykgJiYgKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZ2VuZXJhbC1sb2NhbFwiPkxvY2FsIE1hcmtldDwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImdlbmVyYWwtcmVnaW9uYWxcIj5SZWdpb25hbCBNYXJrZXQ8L29wdGlvbj5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKX1cbiAgICAgIDwvc2VsZWN0PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJjb21wZXRpdG9yLXRhYmxlXCI+XG4gICAgICA8aDI+Q29tcGV0aXRvcnM8L2gyPlxuICAgICAgPHRhYmxlPlxuICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRoPk5hbWU8L3RoPlxuICAgICAgICAgICAgPHRoPk1hcmtldCBTaGFyZTwvdGg+XG4gICAgICAgICAgICA8dGg+UHJpY2luZzwvdGg+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgPC90aGVhZD5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5Db21wZXRpdG9yIDE8L3RkPlxuICAgICAgICAgICAgPHRkPjI1JTwvdGQ+XG4gICAgICAgICAgICA8dGQ+UHJlbWl1bTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuKVxuXG5jb25zdCBNb2NrQWRtaW46IFJlYWN0LkZDID0gKCkgPT4gKFxuICA8ZGl2IGRhdGEtdGVzdGlkPVwiYWRtaW4tcGFnZVwiPlxuICAgIDxoMT5BZG1pbiBQYW5lbDwvaDE+XG4gICAgPG5hdiBkYXRhLXRlc3RpZD1cImFkbWluLW5hdlwiPlxuICAgICAgPGJ1dHRvbiBkYXRhLXRlc3RpZD1cImFkbWluLXN0YXRzXCI+U3RhdGlzdGljczwvYnV0dG9uPlxuICAgICAgPGJ1dHRvbiBkYXRhLXRlc3RpZD1cImFkbWluLXVzZXJzXCI+TWFuYWdlIFVzZXJzPC9idXR0b24+XG4gICAgICA8YnV0dG9uIGRhdGEtdGVzdGlkPVwiYWRtaW4tb3Jnc1wiPk1hbmFnZSBPcmdhbml6YXRpb25zPC9idXR0b24+XG4gICAgICA8YnV0dG9uIGRhdGEtdGVzdGlkPVwiYWRtaW4tZmVhdHVyZXNcIj5GZWF0dXJlIEZsYWdzPC9idXR0b24+XG4gICAgICA8YnV0dG9uIGRhdGEtdGVzdGlkPVwiYWRtaW4tcmF0ZS1saW1pdHNcIj5SYXRlIExpbWl0aW5nPC9idXR0b24+XG4gICAgPC9uYXY+XG4gICAgPGRpdiBkYXRhLXRlc3RpZD1cImFkbWluLWNvbnRlbnRcIj5cbiAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJzeXN0ZW0taGVhbHRoXCI+XG4gICAgICAgIDxoMj5TeXN0ZW0gSGVhbHRoPC9oMj5cbiAgICAgICAgPHAgZGF0YS10ZXN0aWQ9XCJoZWFsdGgtc3RhdHVzXCI+U3RhdHVzOiBIZWFsdGh5PC9wPlxuICAgICAgICA8cCBkYXRhLXRlc3RpZD1cImFjdGl2ZS11c2Vyc1wiPkFjdGl2ZSBVc2VyczogMjMwPC9wPlxuICAgICAgICA8cCBkYXRhLXRlc3RpZD1cInRvdGFsLW9yZ3NcIj5Pcmdhbml6YXRpb25zOiA0NTwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbilcblxuY29uc3QgTW9ja0xvZ2luOiBSZWFjdC5GQzx7IG9uTG9naW46ICgpID0+IHZvaWQgfT4gPSAoeyBvbkxvZ2luIH0pID0+IChcbiAgPGRpdiBkYXRhLXRlc3RpZD1cImxvZ2luLXBhZ2VcIj5cbiAgICA8aDE+TG9naW48L2gxPlxuICAgIDxmb3JtXG4gICAgICBvblN1Ym1pdD17KGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIG9uTG9naW4oKVxuICAgICAgfX1cbiAgICA+XG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgcGxhY2Vob2xkZXI9XCJFbWFpbFwiXG4gICAgICAgIGRhdGEtdGVzdGlkPVwibG9naW4tZW1haWxcIlxuICAgICAgICByZXF1aXJlZFxuICAgICAgLz5cbiAgICAgIDxpbnB1dFxuICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkXCJcbiAgICAgICAgZGF0YS10ZXN0aWQ9XCJsb2dpbi1wYXNzd29yZFwiXG4gICAgICAgIHJlcXVpcmVkXG4gICAgICAvPlxuICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgZGF0YS10ZXN0aWQ9XCJsb2dpbi1zdWJtaXRcIj5cbiAgICAgICAgU2lnbiBJblxuICAgICAgPC9idXR0b24+XG4gICAgPC9mb3JtPlxuICA8L2Rpdj5cbilcblxuZGVzY3JpYmUoJ1VzZXIgRmxvdyBJbnRlZ3JhdGlvbiBUZXN0cycsICgpID0+IHtcbiAgXG4gIGRlc2NyaWJlKCdBdXRoZW50aWNhdGlvbiBGbG93JywgKCkgPT4ge1xuICAgIGl0KCdhbGxvd3MgdXNlciB0byBsb2dpbiBhbmQgYWNjZXNzIGRhc2hib2FyZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBjcmVhdGVUZXN0VXNlcih7IHJvbGU6ICd1c2VyJyB9KVxuICAgICAgY29uc3Qgb3JnYW5pc2F0aW9uID0gY3JlYXRlVGVzdE9yZ2FuaXNhdGlvbignZ2VuZXJhbCcpXG4gICAgICBcbiAgICAgIG1vY2tBcGlFbmRwb2ludHMubW9ja0F1dGgodXNlcilcbiAgICAgIG1vY2tBcGlFbmRwb2ludHMubW9ja09yZ2FuaXNhdGlvbihvcmdhbmlzYXRpb24pXG4gICAgICBcbiAgICAgIGxldCBpc0xvZ2dlZEluID0gZmFsc2VcbiAgICAgIGNvbnN0IGhhbmRsZUxvZ2luID0gKCkgPT4ge1xuICAgICAgICBpc0xvZ2dlZEluID0gdHJ1ZVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTdGFydCB1bmF1dGhlbnRpY2F0ZWRcbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIsIHVzZXI6IHVzZXJFdmVudCB9ID0gcmVuZGVyVW5hdXRoZW50aWNhdGVkKFxuICAgICAgICA8TW9ja0FwcD5cbiAgICAgICAgICA8TW9ja0xvZ2luIG9uTG9naW49e2hhbmRsZUxvZ2lufSAvPlxuICAgICAgICA8L01vY2tBcHA+XG4gICAgICApXG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2xvZ2luLXBhZ2UnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgXG4gICAgICAvLyBGaWxsIG91dCBsb2dpbiBmb3JtXG4gICAgICBhd2FpdCB1c2VyRXZlbnQudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoJ2xvZ2luLWVtYWlsJyksIHVzZXIuZW1haWwpXG4gICAgICBhd2FpdCB1c2VyRXZlbnQudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoJ2xvZ2luLXBhc3N3b3JkJyksICdwYXNzd29yZDEyMycpXG4gICAgICBhd2FpdCB1c2VyRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKCdsb2dpbi1zdWJtaXQnKSlcbiAgICAgIFxuICAgICAgLy8gU2ltdWxhdGUgc3VjY2Vzc2Z1bCBsb2dpbiBhbmQgcmVkaXJlY3RcbiAgICAgIHJlcmVuZGVyKFxuICAgICAgICA8TW9ja0FwcD5cbiAgICAgICAgICA8TW9ja0Rhc2hib2FyZCBpbmR1c3RyeT17b3JnYW5pc2F0aW9uLmluZHVzdHJ5fSAvPlxuICAgICAgICA8L01vY2tBcHA+LFxuICAgICAgICB7IHVzZXIsIG9yZ2FuaXNhdGlvbiwgaXNBdXRoZW50aWNhdGVkOiB0cnVlIH1cbiAgICAgIClcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2Rhc2hib2FyZC1wYWdlJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdEYXNoYm9hcmQnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5kdXN0cnktaW5kaWNhdG9yJykpLnRvSGF2ZVRleHRDb250ZW50KCdJbmR1c3RyeTogZ2VuZXJhbCcpXG4gICAgfSlcbiAgICBcbiAgICBpdCgncmVkaXJlY3RzIHVuYXV0aGVudGljYXRlZCB1c2VycyB0byBsb2dpbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgdXNlciB9ID0gcmVuZGVyVW5hdXRoZW50aWNhdGVkKFxuICAgICAgICA8TW9ja0FwcD5cbiAgICAgICAgICA8TW9ja0xvZ2luIG9uTG9naW49eygpID0+IHt9fSAvPlxuICAgICAgICA8L01vY2tBcHA+XG4gICAgICApXG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2xvZ2luLXBhZ2UnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgXG4gICAgICAvLyBUcnkgdG8gbmF2aWdhdGUgdG8gcHJvdGVjdGVkIHJvdXRlXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgnbmF2LWRhc2hib2FyZCcpKVxuICAgICAgXG4gICAgICAvLyBTaG91bGQgc3RpbGwgc2VlIGxvZ2luIHBhZ2UgKGluIHJlYWwgYXBwLCByb3V0ZXIgd291bGQgaGFuZGxlIHRoaXMpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdsb2dpbi1wYWdlJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuICB9KVxuICBcbiAgZGVzY3JpYmUoJ0Rhc2hib2FyZCB0byBNYXJrZXQgRWRnZSBOYXZpZ2F0aW9uIEZsb3cnLCAoKSA9PiB7XG4gICAgaXQoJ2FsbG93cyBzZWFtbGVzcyBuYXZpZ2F0aW9uIGJldHdlZW4gZGFzaGJvYXJkIGFuZCBtYXJrZXQgZWRnZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBjcmVhdGVUZXN0VXNlcih7IHJvbGU6ICd1c2VyJyB9KVxuICAgICAgY29uc3Qgb3JnYW5pc2F0aW9uID0gY3JlYXRlVGVzdE9yZ2FuaXNhdGlvbignY2luZW1hJylcbiAgICAgIFxuICAgICAgbW9ja0FwaUVuZHBvaW50cy5tb2NrQXV0aCh1c2VyKVxuICAgICAgbW9ja0FwaUVuZHBvaW50cy5tb2NrT3JnYW5pc2F0aW9uKG9yZ2FuaXNhdGlvbilcbiAgICAgIG1vY2tBcGlFbmRwb2ludHMubW9ja01hcmtldEVkZ2UoKVxuICAgICAgXG4gICAgICAvLyBTdGFydCBvbiBkYXNoYm9hcmRcbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIsIHVzZXI6IHVzZXJFdmVudCB9ID0gcmVuZGVyRm9ySW5kdXN0cnkoXG4gICAgICAgIDxNb2NrQXBwPlxuICAgICAgICAgIDxNb2NrRGFzaGJvYXJkIGluZHVzdHJ5PXtvcmdhbmlzYXRpb24uaW5kdXN0cnl9IC8+XG4gICAgICAgIDwvTW9ja0FwcD4sXG4gICAgICAgICdjaW5lbWEnXG4gICAgICApXG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2Rhc2hib2FyZC1wYWdlJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZHVzdHJ5LWluZGljYXRvcicpKS50b0hhdmVUZXh0Q29udGVudCgnSW5kdXN0cnk6IGNpbmVtYScpXG4gICAgICBcbiAgICAgIC8vIE5hdmlnYXRlIHRvIE1hcmtldCBFZGdlIGZyb20gZGFzaGJvYXJkIHF1aWNrIGFjdGlvblxuICAgICAgYXdhaXQgdXNlckV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgndmlldy1jb21wZXRpdG9ycycpKVxuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSBuYXZpZ2F0aW9uIHRvIE1hcmtldCBFZGdlXG4gICAgICByZXJlbmRlcihcbiAgICAgICAgPE1vY2tBcHA+XG4gICAgICAgICAgPE1vY2tNYXJrZXRFZGdlIGluZHVzdHJ5PXtvcmdhbmlzYXRpb24uaW5kdXN0cnl9IC8+XG4gICAgICAgIDwvTW9ja0FwcD4sXG4gICAgICAgIHsgaW5kdXN0cnlUeXBlOiAnY2luZW1hJyB9XG4gICAgICApXG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdtYXJrZXQtZWRnZS1wYWdlJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdNYXJrZXQgRWRnZScpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdpbmR1c3RyeS1jb250ZXh0JykpLnRvSGF2ZVRleHRDb250ZW50KCdJbmR1c3RyeTogY2luZW1hJylcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIHNlZSBjaW5lbWEtc3BlY2lmaWMgbWFya2V0IG9wdGlvbnNcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdEb3dudG93biBDaW5lbWEnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ01hbGwgQ2luZW1hJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuICB9KVxuICBcbiAgZGVzY3JpYmUoJ0luZHVzdHJ5LVNwZWNpZmljIFVzZXIgRmxvd3MnLCAoKSA9PiB7XG4gICAgZGVzY3JpYmUoJ0NpbmVtYSBJbmR1c3RyeSBGbG93JywgKCkgPT4ge1xuICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgIGluZHVzdHJ5VGVzdFNjZW5hcmlvcy5jaW5lbWEudGlja2V0aW5nU3lzdGVtKClcbiAgICAgICAgaW5kdXN0cnlUZXN0U2NlbmFyaW9zLmNpbmVtYS5oaWdoVHJhZmZpY1JhdGVMaW1pdGluZygpXG4gICAgICB9KVxuICAgICAgXG4gICAgICBpdCgnc3VwcG9ydHMgY29tcGxldGUgY2luZW1hIG1hbmFnZW1lbnQgd29ya2Zsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNpbmVtYVVzZXIgPSBjcmVhdGVUZXN0VXNlcih7IHJvbGU6ICd1c2VyJyB9LCAnY2luZW1hJylcbiAgICAgICAgY29uc3QgY2luZW1hT3JnID0gY3JlYXRlVGVzdE9yZ2FuaXNhdGlvbignY2luZW1hJylcbiAgICAgICAgXG4gICAgICAgIG1vY2tBcGlFbmRwb2ludHMubW9ja0F1dGgoY2luZW1hVXNlcilcbiAgICAgICAgbW9ja0FwaUVuZHBvaW50cy5tb2NrT3JnYW5pc2F0aW9uKGNpbmVtYU9yZylcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHsgdXNlciB9ID0gcmVuZGVyRm9ySW5kdXN0cnkoXG4gICAgICAgICAgPE1vY2tBcHA+XG4gICAgICAgICAgICA8TW9ja0Rhc2hib2FyZCBpbmR1c3RyeT1cImNpbmVtYVwiIC8+XG4gICAgICAgICAgPC9Nb2NrQXBwPixcbiAgICAgICAgICAnY2luZW1hJ1xuICAgICAgICApXG4gICAgICAgIFxuICAgICAgICAvLyBTaG91bGQgc2VlIGNpbmVtYS1zcGVjaWZpYyBkYXNoYm9hcmRcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5kdXN0cnktaW5kaWNhdG9yJykpLnRvSGF2ZVRleHRDb250ZW50KCdJbmR1c3RyeTogY2luZW1hJylcbiAgICAgICAgXG4gICAgICAgIC8vIE5hdmlnYXRlIHRvIE1hcmtldCBFZGdlXG4gICAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKCd2aWV3LWNvbXBldGl0b3JzJykpXG4gICAgICAgIFxuICAgICAgICAvLyBTaW11bGF0ZSBuYXZpZ2F0aW9uXG4gICAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlckZvckluZHVzdHJ5KFxuICAgICAgICAgIDxNb2NrQXBwPlxuICAgICAgICAgICAgPE1vY2tNYXJrZXRFZGdlIGluZHVzdHJ5PVwiY2luZW1hXCIgLz5cbiAgICAgICAgICA8L01vY2tBcHA+LFxuICAgICAgICAgICdjaW5lbWEnXG4gICAgICAgIClcbiAgICAgICAgXG4gICAgICAgIC8vIFNob3VsZCBoYXZlIGNpbmVtYS1zcGVjaWZpYyBvcHRpb25zXG4gICAgICAgIGNvbnN0IG1hcmtldFNlbGVjdCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnbWFya2V0LXNlbGVjdCcpXG4gICAgICAgIGF3YWl0IHVzZXIuc2VsZWN0T3B0aW9ucyhtYXJrZXRTZWxlY3QsICdjaW5lbWEtZG93bnRvd24nKVxuICAgICAgICBcbiAgICAgICAgZXhwZWN0KG1hcmtldFNlbGVjdCkudG9IYXZlVmFsdWUoJ2NpbmVtYS1kb3dudG93bicpXG4gICAgICAgIFxuICAgICAgICAvLyBTaG91bGQgc2VlIGNvbXBldGl0b3IgZGF0YSByZWxldmFudCB0byBjaW5lbWEgaW5kdXN0cnlcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY29tcGV0aXRvci10YWJsZScpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDb21wZXRpdG9ycycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICB9KVxuICAgIH0pXG4gICAgXG4gICAgZGVzY3JpYmUoJ0hvdGVsIEluZHVzdHJ5IEZsb3cnLCAoKSA9PiB7XG4gICAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgaW5kdXN0cnlUZXN0U2NlbmFyaW9zLmhvdGVsLnJlYWxUaW1lUHJpY2luZygpXG4gICAgICB9KVxuICAgICAgXG4gICAgICBpdCgnc3VwcG9ydHMgaG90ZWwgcHJpY2luZyBhbmQgY29tcGV0aXRvciBhbmFseXNpcyB3b3JrZmxvdycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaG90ZWxVc2VyID0gY3JlYXRlVGVzdFVzZXIoeyByb2xlOiAndXNlcicgfSwgJ2hvdGVsJylcbiAgICAgICAgY29uc3QgaG90ZWxPcmcgPSBjcmVhdGVUZXN0T3JnYW5pc2F0aW9uKCdob3RlbCcpXG4gICAgICAgIFxuICAgICAgICBjb25zdCB7IHVzZXIgfSA9IHJlbmRlckZvckluZHVzdHJ5KFxuICAgICAgICAgIDxNb2NrQXBwPlxuICAgICAgICAgICAgPE1vY2tNYXJrZXRFZGdlIGluZHVzdHJ5PVwiaG90ZWxcIiAvPlxuICAgICAgICAgIDwvTW9ja0FwcD4sXG4gICAgICAgICAgJ2hvdGVsJ1xuICAgICAgICApXG4gICAgICAgIFxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdpbmR1c3RyeS1jb250ZXh0JykpLnRvSGF2ZVRleHRDb250ZW50KCdJbmR1c3RyeTogaG90ZWwnKVxuICAgICAgICBcbiAgICAgICAgLy8gU2VsZWN0IGhvdGVsIG1hcmtldCBzZWdtZW50XG4gICAgICAgIGNvbnN0IG1hcmtldFNlbGVjdCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnbWFya2V0LXNlbGVjdCcpXG4gICAgICAgIGF3YWl0IHVzZXIuc2VsZWN0T3B0aW9ucyhtYXJrZXRTZWxlY3QsICdob3RlbC1sdXh1cnknKVxuICAgICAgICBcbiAgICAgICAgZXhwZWN0KG1hcmtldFNlbGVjdCkudG9IYXZlVmFsdWUoJ2hvdGVsLWx1eHVyeScpXG4gICAgICAgIFxuICAgICAgICAvLyBTaG91bGQgaW50ZWdyYXRlIHdpdGggcmVhbC10aW1lIHByaWNpbmcgZGF0YVxuICAgICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjb21wZXRpdG9yLXRhYmxlJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgICBcbiAgICBkZXNjcmliZSgnR3ltIEluZHVzdHJ5IEZsb3cnLCAoKSA9PiB7XG4gICAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgaW5kdXN0cnlUZXN0U2NlbmFyaW9zLmd5bS5tZW1iZXJzaGlwVHJhY2tpbmcoKVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgaXQoJ3N1cHBvcnRzIGd5bSBtZW1iZXJzaGlwIGFuZCBjb21wZXRpdGlvbiBhbmFseXNpcycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgZ3ltVXNlciA9IGNyZWF0ZVRlc3RVc2VyKHsgcm9sZTogJ3VzZXInIH0sICdneW0nKVxuICAgICAgICBjb25zdCBneW1PcmcgPSBjcmVhdGVUZXN0T3JnYW5pc2F0aW9uKCdneW0nKVxuICAgICAgICBcbiAgICAgICAgY29uc3QgeyB1c2VyIH0gPSByZW5kZXJGb3JJbmR1c3RyeShcbiAgICAgICAgICA8TW9ja0FwcD5cbiAgICAgICAgICAgIDxNb2NrRGFzaGJvYXJkIGluZHVzdHJ5PVwiZ3ltXCIgLz5cbiAgICAgICAgICA8L01vY2tBcHA+LFxuICAgICAgICAgICdneW0nXG4gICAgICAgIClcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZHVzdHJ5LWluZGljYXRvcicpKS50b0hhdmVUZXh0Q29udGVudCgnSW5kdXN0cnk6IGd5bScpXG4gICAgICAgIFxuICAgICAgICAvLyBTaG91bGQgaGF2ZSBneW0tc3BlY2lmaWMgcGVyZm9ybWFuY2UgbWV0cmljc1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdwZXJmb3JtYW5jZS13aWRnZXQnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgICBcbiAgICAgICAgLy8gTmF2aWdhdGUgdG8gY29tcGV0aXRvciBhbmFseXNpc1xuICAgICAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgndmlldy1jb21wZXRpdG9ycycpKVxuICAgICAgICBcbiAgICAgICAgLy8gU2hvdWxkIHNlZSBneW0tc3BlY2lmaWMgY29tcGV0aXRvciBkYXRhXG4gICAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlckZvckluZHVzdHJ5KFxuICAgICAgICAgIDxNb2NrQXBwPlxuICAgICAgICAgICAgPE1vY2tNYXJrZXRFZGdlIGluZHVzdHJ5PVwiZ3ltXCIgLz5cbiAgICAgICAgICA8L01vY2tBcHA+LFxuICAgICAgICAgICdneW0nXG4gICAgICAgIClcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZHVzdHJ5LWNvbnRleHQnKSkudG9IYXZlVGV4dENvbnRlbnQoJ0luZHVzdHJ5OiBneW0nKVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxuICBcbiAgZGVzY3JpYmUoJ0FkbWluIFVzZXIgRmxvd3MnLCAoKSA9PiB7XG4gICAgaXQoJ2FsbG93cyBhZG1pbiB0byBhY2Nlc3MgYWxsIHN5c3RlbSBtYW5hZ2VtZW50IGZlYXR1cmVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYWRtaW5Vc2VyID0gY3JlYXRlVGVzdFVzZXIoeyByb2xlOiAnYWRtaW4nIH0pXG4gICAgICBcbiAgICAgIG1vY2tBcGlFbmRwb2ludHMubW9ja0F1dGgoYWRtaW5Vc2VyKVxuICAgICAgbW9ja0FwaUVuZHBvaW50cy5tb2NrQWRtaW4oKVxuICAgICAgbW9ja0FwaUVuZHBvaW50cy5tb2NrUmF0ZUxpbWl0aW5nKClcbiAgICAgIFxuICAgICAgY29uc3QgeyB1c2VyIH0gPSByZW5kZXJBc0FkbWluKFxuICAgICAgICA8TW9ja0FwcD5cbiAgICAgICAgICA8TW9ja0FkbWluIC8+XG4gICAgICAgIDwvTW9ja0FwcD5cbiAgICAgIClcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnYWRtaW4tcGFnZScpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBzZWUgYWRtaW4gbmF2aWdhdGlvblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnYWRtaW4tbmF2JykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgc3lzdGVtIGhlYWx0aFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc3lzdGVtLWhlYWx0aCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdoZWFsdGgtc3RhdHVzJykpLnRvSGF2ZVRleHRDb250ZW50KCdTdGF0dXM6IEhlYWx0aHknKVxuICAgICAgXG4gICAgICAvLyBOYXZpZ2F0ZSB0byBkaWZmZXJlbnQgYWRtaW4gc2VjdGlvbnNcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKCdhZG1pbi1zdGF0cycpKVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnYWRtaW4tc3RhdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgnYWRtaW4tcmF0ZS1saW1pdHMnKSlcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2FkbWluLXJhdGUtbGltaXRzJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuICAgIFxuICAgIGl0KCdhbGxvd3MgYWRtaW4gdG8gbWFuYWdlIG11bHRpLXRlbmFudCBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYWRtaW5Vc2VyID0gY3JlYXRlVGVzdFVzZXIoeyByb2xlOiAnYWRtaW4nIH0pXG4gICAgICBjb25zdCBvcmdhbmlzYXRpb25zID0gW1xuICAgICAgICBjcmVhdGVUZXN0T3JnYW5pc2F0aW9uKCdjaW5lbWEnKSxcbiAgICAgICAgY3JlYXRlVGVzdE9yZ2FuaXNhdGlvbignaG90ZWwnKSxcbiAgICAgICAgY3JlYXRlVGVzdE9yZ2FuaXNhdGlvbignZ3ltJyksXG4gICAgICBdXG4gICAgICBcbiAgICAgIG1vY2tBcGlFbmRwb2ludHMubW9ja0F1dGgoYWRtaW5Vc2VyKVxuICAgICAgbW9ja0FwaUVuZHBvaW50cy5tb2NrQWRtaW4oKVxuICAgICAgXG4gICAgICBjb25zdCB7IHVzZXIgfSA9IHJlbmRlckFzQWRtaW4oXG4gICAgICAgIDxNb2NrQXBwPlxuICAgICAgICAgIDxNb2NrQWRtaW4gLz5cbiAgICAgICAgPC9Nb2NrQXBwPlxuICAgICAgKVxuICAgICAgXG4gICAgICAvLyBTaG91bGQgc2VlIGFnZ3JlZ2F0ZWQgc3RhdGlzdGljc1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc3lzdGVtLWhlYWx0aCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBcbiAgICAgIC8vIE5hdmlnYXRlIHRvIG9yZ2FuaXphdGlvbiBtYW5hZ2VtZW50XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgnYWRtaW4tb3JncycpKVxuICAgICAgXG4gICAgICAvLyBTaG91bGQgYmUgYWJsZSB0byBtYW5hZ2Ugb3JnYW5pemF0aW9ucyBhY3Jvc3MgYWxsIGluZHVzdHJpZXNcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2FkbWluLW9yZ3MnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG4gIH0pXG4gIFxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcgRmxvd3MnLCAoKSA9PiB7XG4gICAgaXQoJ2hhbmRsZXMgQVBJIGVycm9ycyBncmFjZWZ1bGx5IGR1cmluZyB1c2VyIGZsb3dzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IGNyZWF0ZVRlc3RVc2VyKHsgcm9sZTogJ3VzZXInIH0pXG4gICAgICBcbiAgICAgIC8vIE1vY2sgQVBJIGZhaWx1cmVcbiAgICAgIHNlcnZlci51c2UoXG4gICAgICAgIGh0dHAuZ2V0KCcvYXBpL3YxL2F1dGgvbWUnLCAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIEh0dHBSZXNwb25zZS5lcnJvcigpXG4gICAgICAgIH0pLFxuICAgICAgICBodHRwLmdldCgnL2FwaS92MS9tYXJrZXQtZWRnZS8qJywgKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBIdHRwUmVzcG9uc2UuZXJyb3IoKVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICAgXG4gICAgICBjb25zdCB7IHVzZXI6IHVzZXJFdmVudCB9ID0gcmVuZGVyV2l0aFByb3ZpZGVycyhcbiAgICAgICAgPE1vY2tBcHA+XG4gICAgICAgICAgPE1vY2tNYXJrZXRFZGdlIC8+XG4gICAgICAgIDwvTW9ja0FwcD4sXG4gICAgICAgIHsgdXNlciwgaXNBdXRoZW50aWNhdGVkOiB0cnVlIH1cbiAgICAgIClcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIGhhbmRsZSBlcnJvcnMgZ3JhY2VmdWxseVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ21hcmtldC1lZGdlLXBhZ2UnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgLy8gQ29tcG9uZW50IHNob3VsZCBzdGlsbCByZW5kZXIgd2l0aCBmYWxsYmFjayBkYXRhXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdtYXJrZXQtc2VsZWN0b3InKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG4gICAgXG4gICAgaXQoJ2hhbmRsZXMgcmF0ZSBsaW1pdGluZyBkdXJpbmcgdXNlciBmbG93cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBjcmVhdGVUZXN0VXNlcih7IHJvbGU6ICd1c2VyJyB9KVxuICAgICAgXG4gICAgICAvLyBNb2NrIHJhdGUgbGltaXRpbmcgcmVzcG9uc2VcbiAgICAgIHNlcnZlci51c2UoXG4gICAgICAgIGh0dHAuZ2V0KCcvYXBpL3YxL21hcmtldC1lZGdlLyonLCAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBIdHRwUmVzcG9uc2UoXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7IGRldGFpbDogJ1JhdGUgbGltaXQgZXhjZWVkZWQnIH0pLFxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgc3RhdHVzOiA0MjksXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnWC1SYXRlTGltaXQtUmVtYWluaW5nJzogJzAnLFxuICAgICAgICAgICAgICAgICdYLVJhdGVMaW1pdC1SZXNldCc6IFN0cmluZyhEYXRlLm5vdygpICsgNjAwMDApLFxuICAgICAgICAgICAgICAgICdSZXRyeS1BZnRlcic6ICc2MCdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIFxuICAgICAgY29uc3QgeyB1c2VyOiB1c2VyRXZlbnQgfSA9IHJlbmRlcldpdGhQcm92aWRlcnMoXG4gICAgICAgIDxNb2NrQXBwPlxuICAgICAgICAgIDxNb2NrTWFya2V0RWRnZSAvPlxuICAgICAgICA8L01vY2tBcHA+LFxuICAgICAgICB7IHVzZXIsIGlzQXV0aGVudGljYXRlZDogdHJ1ZSB9XG4gICAgICApXG4gICAgICBcbiAgICAgIC8vIFRyeSB0byB0cmlnZ2VyIEFQSSBjYWxsXG4gICAgICBjb25zdCBtYXJrZXRTZWxlY3QgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ21hcmtldC1zZWxlY3QnKVxuICAgICAgYXdhaXQgdXNlckV2ZW50LnNlbGVjdE9wdGlvbnMobWFya2V0U2VsZWN0LCAnZ2VuZXJhbC1sb2NhbCcpXG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBzaG93IHJhdGUgbGltaXRpbmcgbWVzc2FnZSBvciBoYW5kbGUgZ3JhY2VmdWxseVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIC8vIENvbXBvbmVudCBzaG91bGQgc3RpbGwgYmUgZnVuY3Rpb25hbCB3aXRoIGNhY2hlZC9mYWxsYmFjayBkYXRhXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ21hcmtldC1lZGdlLXBhZ2UnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxuICBcbiAgZGVzY3JpYmUoJ0Nyb3NzLXRlbmFudCBEYXRhIElzb2xhdGlvbicsICgpID0+IHtcbiAgICBpdCgncHJvcGVybHkgaXNvbGF0ZXMgZGF0YSBiZXR3ZWVuIGRpZmZlcmVudCB0ZW5hbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdGVuYW50MVVzZXIgPSBjcmVhdGVUZXN0VXNlcih7IG9yZ2FuaXNhdGlvbl9pZDogJ3RlbmFudC0xJyB9KVxuICAgICAgY29uc3QgdGVuYW50MU9yZyA9IGNyZWF0ZVRlc3RPcmdhbmlzYXRpb24oJ2NpbmVtYScsIHsgaWQ6ICd0ZW5hbnQtMScgfSlcbiAgICAgIFxuICAgICAgY29uc3QgdGVuYW50MlVzZXIgPSBjcmVhdGVUZXN0VXNlcih7IG9yZ2FuaXNhdGlvbl9pZDogJ3RlbmFudC0yJyB9KVxuICAgICAgY29uc3QgdGVuYW50Mk9yZyA9IGNyZWF0ZVRlc3RPcmdhbmlzYXRpb24oJ2hvdGVsJywgeyBpZDogJ3RlbmFudC0yJyB9KVxuICAgICAgXG4gICAgICAvLyBTdGFydCB3aXRoIHRlbmFudCAxXG4gICAgICBjb25zdCB7IHJlcmVuZGVyIH0gPSByZW5kZXJXaXRoUHJvdmlkZXJzKFxuICAgICAgICA8TW9ja0FwcD5cbiAgICAgICAgICA8TW9ja0Rhc2hib2FyZCBpbmR1c3RyeT1cImNpbmVtYVwiIC8+XG4gICAgICAgIDwvTW9ja0FwcD4sXG4gICAgICAgIHsgdXNlcjogdGVuYW50MVVzZXIsIG9yZ2FuaXNhdGlvbjogdGVuYW50MU9yZyB9XG4gICAgICApXG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZHVzdHJ5LWluZGljYXRvcicpKS50b0hhdmVUZXh0Q29udGVudCgnSW5kdXN0cnk6IGNpbmVtYScpXG4gICAgICBcbiAgICAgIC8vIFN3aXRjaCB0byB0ZW5hbnQgMiAoc2ltdWxhdGUgdXNlciBzd2l0Y2hpbmcgb3JnYW5pemF0aW9ucyBvciBsb2dnaW5nIGluIGFzIGRpZmZlcmVudCB1c2VyKVxuICAgICAgcmVyZW5kZXIoXG4gICAgICAgIDxNb2NrQXBwPlxuICAgICAgICAgIDxNb2NrRGFzaGJvYXJkIGluZHVzdHJ5PVwiaG90ZWxcIiAvPlxuICAgICAgICA8L01vY2tBcHA+LFxuICAgICAgICB7IHVzZXI6IHRlbmFudDJVc2VyLCBvcmdhbmlzYXRpb246IHRlbmFudDJPcmcgfVxuICAgICAgKVxuICAgICAgXG4gICAgICAvLyBTaG91bGQgc2VlIGRpZmZlcmVudCBpbmR1c3RyeS1zcGVjaWZpYyBkYXRhXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdpbmR1c3RyeS1pbmRpY2F0b3InKSkudG9IYXZlVGV4dENvbnRlbnQoJ0luZHVzdHJ5OiBob3RlbCcpXG4gICAgICBcbiAgICAgIC8vIERhdGEgc2hvdWxkIGJlIGNvbXBsZXRlbHkgaXNvbGF0ZWQgLSBubyBjaW5lbWEgZGF0YSBzaG91bGQgYmUgdmlzaWJsZVxuICAgICAgY29uc3QgeyByZXJlbmRlcjogcmVyZW5kZXIyIH0gPSByZW5kZXJXaXRoUHJvdmlkZXJzKFxuICAgICAgICA8TW9ja0FwcD5cbiAgICAgICAgICA8TW9ja01hcmtldEVkZ2UgaW5kdXN0cnk9XCJob3RlbFwiIC8+XG4gICAgICAgIDwvTW9ja0FwcD4sXG4gICAgICAgIHsgdXNlcjogdGVuYW50MlVzZXIsIG9yZ2FuaXNhdGlvbjogdGVuYW50Mk9yZyB9XG4gICAgICApXG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBvbmx5IHNlZSBob3RlbC1zcGVjaWZpYyBvcHRpb25zXG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdEb3dudG93biBDaW5lbWEnKSkubm90LnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMdXh1cnkgSG90ZWxzJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuICB9KVxuICBcbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlIGFuZCBVc2VyIEV4cGVyaWVuY2UnLCAoKSA9PiB7XG4gICAgaXQoJ3Byb3ZpZGVzIGZhc3QgbmF2aWdhdGlvbiBiZXR3ZWVuIHBhZ2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IGNyZWF0ZVRlc3RVc2VyKHsgcm9sZTogJ3VzZXInIH0pXG4gICAgICBjb25zdCBvcmdhbmlzYXRpb24gPSBjcmVhdGVUZXN0T3JnYW5pc2F0aW9uKCdnZW5lcmFsJylcbiAgICAgIFxuICAgICAgY29uc3QgeyB1c2VyOiB1c2VyRXZlbnQgfSA9IHJlbmRlcldpdGhQcm92aWRlcnMoXG4gICAgICAgIDxNb2NrQXBwPlxuICAgICAgICAgIDxNb2NrRGFzaGJvYXJkIC8+XG4gICAgICAgIDwvTW9ja0FwcD4sXG4gICAgICAgIHsgdXNlciwgb3JnYW5pc2F0aW9uIH1cbiAgICAgIClcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICAgIFxuICAgICAgLy8gTmF2aWdhdGUgdG8gTWFya2V0IEVkZ2VcbiAgICAgIGF3YWl0IHVzZXJFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoJ3ZpZXctY29tcGV0aXRvcnMnKSlcbiAgICAgIFxuICAgICAgLy8gU2ltdWxhdGUgZmFzdCBuYXZpZ2F0aW9uXG4gICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICAgIGNvbnN0IG5hdmlnYXRpb25UaW1lID0gZW5kVGltZSAtIHN0YXJ0VGltZVxuICAgICAgXG4gICAgICAvLyBOYXZpZ2F0aW9uIHNob3VsZCBiZSBmYXN0ICh1bmRlciAxMDBtcyBmb3Igc2ltdWxhdGVkIG5hdmlnYXRpb24pXG4gICAgICBleHBlY3QobmF2aWdhdGlvblRpbWUpLnRvQmVMZXNzVGhhbigxMDApXG4gICAgfSlcbiAgICBcbiAgICBpdCgnbWFpbnRhaW5zIHN0YXRlIGR1cmluZyBuYXZpZ2F0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IGNyZWF0ZVRlc3RVc2VyKHsgcm9sZTogJ3VzZXInIH0pXG4gICAgICBjb25zdCBvcmdhbmlzYXRpb24gPSBjcmVhdGVUZXN0T3JnYW5pc2F0aW9uKCdjaW5lbWEnKVxuICAgICAgXG4gICAgICBjb25zdCB7IHVzZXI6IHVzZXJFdmVudCwgcmVyZW5kZXIgfSA9IHJlbmRlcldpdGhQcm92aWRlcnMoXG4gICAgICAgIDxNb2NrQXBwPlxuICAgICAgICAgIDxNb2NrTWFya2V0RWRnZSBpbmR1c3RyeT1cImNpbmVtYVwiIC8+XG4gICAgICAgIDwvTW9ja0FwcD4sXG4gICAgICAgIHsgdXNlciwgb3JnYW5pc2F0aW9uIH1cbiAgICAgIClcbiAgICAgIFxuICAgICAgLy8gU2VsZWN0IG1hcmtldFxuICAgICAgY29uc3QgbWFya2V0U2VsZWN0ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdtYXJrZXQtc2VsZWN0JylcbiAgICAgIGF3YWl0IHVzZXJFdmVudC5zZWxlY3RPcHRpb25zKG1hcmtldFNlbGVjdCwgJ2NpbmVtYS1kb3dudG93bicpXG4gICAgICBcbiAgICAgIGV4cGVjdChtYXJrZXRTZWxlY3QpLnRvSGF2ZVZhbHVlKCdjaW5lbWEtZG93bnRvd24nKVxuICAgICAgXG4gICAgICAvLyBOYXZpZ2F0ZSBhd2F5IGFuZCBiYWNrXG4gICAgICByZXJlbmRlcihcbiAgICAgICAgPE1vY2tBcHA+XG4gICAgICAgICAgPE1vY2tEYXNoYm9hcmQgaW5kdXN0cnk9XCJjaW5lbWFcIiAvPlxuICAgICAgICA8L01vY2tBcHA+XG4gICAgICApXG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2Rhc2hib2FyZC1wYWdlJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIFxuICAgICAgLy8gTmF2aWdhdGUgYmFjayB0byBNYXJrZXQgRWRnZVxuICAgICAgcmVyZW5kZXIoXG4gICAgICAgIDxNb2NrQXBwPlxuICAgICAgICAgIDxNb2NrTWFya2V0RWRnZSBpbmR1c3RyeT1cImNpbmVtYVwiIC8+XG4gICAgICAgIDwvTW9ja0FwcD5cbiAgICAgIClcbiAgICAgIFxuICAgICAgLy8gU3RhdGUgc2hvdWxkIGJlIG1haW50YWluZWQgKGluIHJlYWwgYXBwLCB0aGlzIHdvdWxkIGJlIGhhbmRsZWQgYnkgc3RhdGUgbWFuYWdlbWVudClcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ21hcmtldC1lZGdlLXBhZ2UnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG4gIH0pXG59KSJdLCJuYW1lcyI6WyJNb2NrQXBwIiwiY2hpbGRyZW4iLCJkaXYiLCJkYXRhLXRlc3RpZCIsImhlYWRlciIsIm5hdiIsImEiLCJocmVmIiwiYnV0dG9uIiwibWFpbiIsImZvb3RlciIsInAiLCJNb2NrRGFzaGJvYXJkIiwiaW5kdXN0cnkiLCJoMSIsIk1vY2tNYXJrZXRFZGdlIiwic2VsZWN0Iiwib3B0aW9uIiwidmFsdWUiLCJoMiIsInRhYmxlIiwidGhlYWQiLCJ0ciIsInRoIiwidGJvZHkiLCJ0ZCIsIk1vY2tBZG1pbiIsIk1vY2tMb2dpbiIsIm9uTG9naW4iLCJmb3JtIiwib25TdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJpbnB1dCIsInR5cGUiLCJwbGFjZWhvbGRlciIsInJlcXVpcmVkIiwiZGVzY3JpYmUiLCJpdCIsInVzZXIiLCJjcmVhdGVUZXN0VXNlciIsInJvbGUiLCJvcmdhbmlzYXRpb24iLCJjcmVhdGVUZXN0T3JnYW5pc2F0aW9uIiwibW9ja0FwaUVuZHBvaW50cyIsIm1vY2tBdXRoIiwibW9ja09yZ2FuaXNhdGlvbiIsImlzTG9nZ2VkSW4iLCJoYW5kbGVMb2dpbiIsInJlcmVuZGVyIiwidXNlckV2ZW50IiwicmVuZGVyVW5hdXRoZW50aWNhdGVkIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXN0SWQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImVtYWlsIiwiY2xpY2siLCJpc0F1dGhlbnRpY2F0ZWQiLCJ3YWl0Rm9yIiwiZ2V0QnlUZXh0IiwidG9IYXZlVGV4dENvbnRlbnQiLCJtb2NrTWFya2V0RWRnZSIsInJlbmRlckZvckluZHVzdHJ5IiwiaW5kdXN0cnlUeXBlIiwiYmVmb3JlRWFjaCIsImluZHVzdHJ5VGVzdFNjZW5hcmlvcyIsImNpbmVtYSIsInRpY2tldGluZ1N5c3RlbSIsImhpZ2hUcmFmZmljUmF0ZUxpbWl0aW5nIiwiY2luZW1hVXNlciIsImNpbmVtYU9yZyIsIm1hcmtldFNlbGVjdCIsInNlbGVjdE9wdGlvbnMiLCJ0b0hhdmVWYWx1ZSIsImhvdGVsIiwicmVhbFRpbWVQcmljaW5nIiwiaG90ZWxVc2VyIiwiaG90ZWxPcmciLCJneW0iLCJtZW1iZXJzaGlwVHJhY2tpbmciLCJneW1Vc2VyIiwiZ3ltT3JnIiwiYWRtaW5Vc2VyIiwibW9ja0FkbWluIiwibW9ja1JhdGVMaW1pdGluZyIsInJlbmRlckFzQWRtaW4iLCJvcmdhbmlzYXRpb25zIiwic2VydmVyIiwidXNlIiwiaHR0cCIsImdldCIsIkh0dHBSZXNwb25zZSIsImVycm9yIiwicmVuZGVyV2l0aFByb3ZpZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZXRhaWwiLCJzdGF0dXMiLCJoZWFkZXJzIiwiU3RyaW5nIiwiRGF0ZSIsIm5vdyIsInRlbmFudDFVc2VyIiwib3JnYW5pc2F0aW9uX2lkIiwidGVuYW50MU9yZyIsImlkIiwidGVuYW50MlVzZXIiLCJ0ZW5hbnQyT3JnIiwicmVyZW5kZXIyIiwicXVlcnlCeVRleHQiLCJub3QiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsImVuZFRpbWUiLCJuYXZpZ2F0aW9uVGltZSIsInRvQmVMZXNzVGhhbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0NBS0M7Ozs7OzhEQUVpQjt3QkFDc0I7cUJBQ0w7MkJBQ1o7MkJBV2hCOzs7Ozs7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