{"version":3,"names":["AdminPage","cov_25drkyen8z","f","user","s","_useAuth","useAuthContext","activeTab","setActiveTab","_react","useState","useEffect","b","role","window","location","href","_jsxruntime","jsx","className","jsxs","_outline","ShieldCheckIcon","tabs","id","name","icon","ChartBarIcon","description","FlagIcon","CubeIcon","ClockIcon","ExclamationTriangleIcon","email","map","tab","Icon","onClick","_AdminStats","AdminStats","_FeatureFlagManager","FeatureFlagManager","_ModuleManager","ModuleManager","_AuditLogViewer","AuditLogViewer","_SecurityEvents","SecurityEvents"],"sources":["/Users/matt/Sites/MarketEdge/platform-wrapper/frontend/src/app/admin/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport {\n  ShieldCheckIcon,\n  CogIcon,\n  FlagIcon,\n  CubeIcon,\n  UsersIcon,\n  ExclamationTriangleIcon,\n  ChartBarIcon,\n  ClockIcon\n} from '@heroicons/react/24/outline';\nimport { useAuthContext } from '@/hooks/useAuth';\nimport { FeatureFlagManager } from '@/components/admin/FeatureFlagManager';\nimport { ModuleManager } from '@/components/admin/ModuleManager';\nimport { AuditLogViewer } from '@/components/admin/AuditLogViewer';\nimport { AdminStats } from '@/components/admin/AdminStats';\nimport { SecurityEvents } from '@/components/admin/SecurityEvents';\n\ntype TabType = 'dashboard' | 'feature-flags' | 'modules' | 'audit-logs' | 'security';\n\nexport default function AdminPage() {\n  const { user } = useAuthContext();\n  const [activeTab, setActiveTab] = useState<TabType>('dashboard');\n\n  // Redirect if not admin\n  useEffect(() => {\n    if (user && user.role !== 'admin') {\n      window.location.href = '/dashboard';\n    }\n  }, [user]);\n\n  if (!user || user.role !== 'admin') {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <ShieldCheckIcon className=\"mx-auto h-12 w-12 text-red-400\" />\n          <h3 className=\"mt-2 text-lg font-medium text-gray-900\">Access Denied</h3>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            You need administrator privileges to access this page.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  const tabs = [\n    { \n      id: 'dashboard', \n      name: 'Dashboard', \n      icon: ChartBarIcon,\n      description: 'Overview and statistics'\n    },\n    { \n      id: 'feature-flags', \n      name: 'Feature Flags', \n      icon: FlagIcon,\n      description: 'Manage feature rollouts'\n    },\n    { \n      id: 'modules', \n      name: 'Modules', \n      icon: CubeIcon,\n      description: 'Analytics module management'\n    },\n    { \n      id: 'audit-logs', \n      name: 'Audit Logs', \n      icon: ClockIcon,\n      description: 'System activity logs'\n    },\n    { \n      id: 'security', \n      name: 'Security', \n      icon: ExclamationTriangleIcon,\n      description: 'Security events and alerts'\n    }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center\">\n              <ShieldCheckIcon className=\"h-8 w-8 text-blue-600 mr-3\" />\n              <h1 className=\"text-2xl font-bold text-gray-900\">Admin Console</h1>\n              <span className=\"ml-3 text-sm text-gray-500\">Platform Management</span>\n            </div>\n            \n            <div className=\"flex items-center space-x-4\">\n              <div className=\"text-sm text-gray-500\">\n                <span className=\"font-medium text-gray-900\">{user.email}</span>\n                <span className=\"ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium\">\n                  Administrator\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"flex flex-col lg:flex-row gap-8\">\n          {/* Sidebar Navigation */}\n          <div className=\"lg:w-64 flex-shrink-0\">\n            <nav className=\"space-y-2\">\n              {tabs.map((tab) => {\n                const Icon = tab.icon;\n                return (\n                  <button\n                    key={tab.id}\n                    onClick={() => setActiveTab(tab.id as TabType)}\n                    className={`${\n                      activeTab === tab.id\n                        ? 'bg-blue-50 border-blue-500 text-blue-700'\n                        : 'border-transparent text-gray-600 hover:bg-gray-50 hover:text-gray-900'\n                    } group flex items-start p-3 border-l-4 text-sm font-medium w-full text-left transition-colors`}\n                  >\n                    <Icon\n                      className={`${\n                        activeTab === tab.id ? 'text-blue-500' : 'text-gray-400 group-hover:text-gray-500'\n                      } flex-shrink-0 mr-3 h-5 w-5`}\n                    />\n                    <div>\n                      <div className=\"font-medium\">{tab.name}</div>\n                      <div className=\"text-xs text-gray-500 mt-1\">{tab.description}</div>\n                    </div>\n                  </button>\n                );\n              })}\n            </nav>\n          </div>\n\n          {/* Main Content */}\n          <div className=\"flex-1 min-w-0\">\n            {activeTab === 'dashboard' && <AdminStats />}\n            {activeTab === 'feature-flags' && <FeatureFlagManager />}\n            {activeTab === 'modules' && <ModuleManager />}\n            {activeTab === 'audit-logs' && <AuditLogViewer />}\n            {activeTab === 'security' && <SecurityEvents />}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}