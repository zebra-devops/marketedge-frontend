{"version":3,"sources":["/Users/matt/Sites/MarketEdge/platform-wrapper/frontend/src/services/auth.ts"],"sourcesContent":["import { apiService } from './api'\nimport { LoginRequest, TokenResponse, User } from '@/types/auth'\nimport Cookies from 'js-cookie'\n\nexport class AuthService {\n  async login(loginData: LoginRequest): Promise<TokenResponse> {\n    const response = await apiService.post<TokenResponse>('/auth/login', loginData)\n    \n    Cookies.set('access_token', response.access_token, { expires: 1 })\n    Cookies.set('refresh_token', response.refresh_token, { expires: 7 })\n    \n    return response\n  }\n\n  async getCurrentUser(): Promise<User> {\n    return apiService.get<User>('/auth/me')\n  }\n\n  async getAuth0Url(redirectUri: string): Promise<{ auth_url: string }> {\n    return apiService.get<{ auth_url: string }>(`/auth/auth0-url?redirect_uri=${encodeURIComponent(redirectUri)}`)\n  }\n\n  logout() {\n    Cookies.remove('access_token')\n    Cookies.remove('refresh_token')\n    window.location.href = '/login'\n  }\n\n  getToken(): string | undefined {\n    return Cookies.get('access_token')\n  }\n\n  isAuthenticated(): boolean {\n    return !!this.getToken()\n  }\n}\n\nexport const authService = new AuthService()"],"names":["AuthService","authService","login","loginData","response","apiService","post","Cookies","set","access_token","expires","refresh_token","getCurrentUser","get","getAuth0Url","redirectUri","encodeURIComponent","logout","remove","window","location","href","getToken","isAuthenticated"],"mappings":";;;;;;;;;;;IAIaA,WAAW;eAAXA;;IAiCAC,WAAW;eAAXA;;;qBArCc;iEAEP;;;;;;AAEb,MAAMD;IACX,MAAME,MAAMC,SAAuB,EAA0B;QAC3D,MAAMC,WAAW,MAAMC,eAAU,CAACC,IAAI,CAAgB,eAAeH;QAErEI,iBAAO,CAACC,GAAG,CAAC,gBAAgBJ,SAASK,YAAY,EAAE;YAAEC,SAAS;QAAE;QAChEH,iBAAO,CAACC,GAAG,CAAC,iBAAiBJ,SAASO,aAAa,EAAE;YAAED,SAAS;QAAE;QAElE,OAAON;IACT;IAEA,MAAMQ,iBAAgC;QACpC,OAAOP,eAAU,CAACQ,GAAG,CAAO;IAC9B;IAEA,MAAMC,YAAYC,WAAmB,EAAiC;QACpE,OAAOV,eAAU,CAACQ,GAAG,CAAuB,CAAC,6BAA6B,EAAEG,mBAAmBD,aAAa,CAAC;IAC/G;IAEAE,SAAS;QACPV,iBAAO,CAACW,MAAM,CAAC;QACfX,iBAAO,CAACW,MAAM,CAAC;QACfC,OAAOC,QAAQ,CAACC,IAAI,GAAG;IACzB;IAEAC,WAA+B;QAC7B,OAAOf,iBAAO,CAACM,GAAG,CAAC;IACrB;IAEAU,kBAA2B;QACzB,OAAO,CAAC,CAAC,IAAI,CAACD,QAAQ;IACxB;AACF;AAEO,MAAMrB,cAAc,IAAID"}