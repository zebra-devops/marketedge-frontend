c4e0e44daf54bd15cba48e5a56b99dbd
/**
 * Mock Service Worker (MSW) Server Setup
 * 
 * Provides API mocking for testing multi-tenant scenarios.
 * Handles authentication, tenant-specific data, and rate limiting responses.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    mockApiEndpoint: function() {
        return mockApiEndpoint;
    },
    mockIndustryData: function() {
        return mockIndustryData;
    },
    server: function() {
        return server;
    }
});
const _node = require("msw/node");
const _msw = require("msw");
const _index = require("../index");
// Base API URL for mocking
const API_BASE_URL = "http://localhost:8000/api/v1";
// Mock handlers for different API endpoints
const handlers = [
    // Authentication endpoints
    _msw.http.post(`${API_BASE_URL}/auth/login`, async ({ request })=>{
        const body = await request.json();
        const { code, redirect_uri } = body;
        // Mock successful login for specific test code
        if (code === "valid-auth-code" || code === "test-auth-code") {
            return _msw.HttpResponse.json({
                access_token: "mock-jwt-token",
                refresh_token: "mock-refresh-token",
                token_type: "bearer",
                user: {
                    id: "test-user-456",
                    email: "test@example.com",
                    first_name: "Test",
                    last_name: "User",
                    role: "analyst",
                    organisation_id: "test-tenant-123",
                    is_active: true
                }
            }, {
                status: 200
            });
        }
        return _msw.HttpResponse.json({
            detail: "Invalid authorization code"
        }, {
            status: 401
        });
    }),
    // Auth0 URL endpoint
    _msw.http.get(`${API_BASE_URL}/auth/auth0-url`, ({ request })=>{
        const url = new URL(request.url);
        const redirectUri = url.searchParams.get("redirect_uri");
        return _msw.HttpResponse.json({
            auth_url: `https://dev-platform.auth0.com/authorize?response_type=code&client_id=test&redirect_uri=${encodeURIComponent(redirectUri || "http://localhost:3000/callback")}&scope=openid%20profile%20email`
        });
    }),
    // User profile endpoint (Auth0 style)
    _msw.http.get(`${API_BASE_URL}/auth/me`, ({ request })=>{
        const authHeader = request.headers.get("authorization");
        if (!authHeader || !authHeader.startsWith("Bearer ")) {
            return _msw.HttpResponse.json({
                detail: "Not authenticated"
            }, {
                status: 401
            });
        }
        return _msw.HttpResponse.json({
            id: "test-user-456",
            email: "test@example.com",
            first_name: "Test",
            last_name: "User",
            role: "analyst",
            organisation_id: "test-tenant-123",
            is_active: true
        });
    }),
    _msw.http.post(`${API_BASE_URL}/auth/refresh`, ()=>{
        return _msw.HttpResponse.json({
            access_token: "new-mock-jwt-token",
            token_type: "bearer",
            expires_in: 3600
        }, {
            status: 200
        });
    }),
    _msw.http.post(`${API_BASE_URL}/auth/logout`, ()=>{
        return _msw.HttpResponse.json({
            message: "Logged out successfully"
        }, {
            status: 200
        });
    }),
    // User profile endpoints
    _msw.http.get(`${API_BASE_URL}/users/me`, ({ request })=>{
        const authHeader = request.headers.get("authorization");
        if (!authHeader || !authHeader.startsWith("Bearer ")) {
            return _msw.HttpResponse.json({
                detail: "Not authenticated"
            }, {
                status: 401
            });
        }
        return _msw.HttpResponse.json({
            id: "test-user-456",
            email: "test@example.com",
            name: "Test User",
            role: "user",
            organization_id: "test-tenant-123",
            permissions: [
                "read:data",
                "write:data"
            ],
            is_active: true,
            created_at: "2024-01-01T00:00:00Z",
            updated_at: "2024-01-01T00:00:00Z"
        });
    }),
    // Organization endpoints
    _msw.http.get(`${API_BASE_URL}/organizations/me`, ()=>{
        return _msw.HttpResponse.json({
            id: "test-tenant-123",
            name: "Test Organization",
            industry: "b2b",
            subscription: "premium",
            features: [
                "market-edge",
                "analytics",
                "reporting"
            ],
            limits: {
                users: 100,
                api_calls: 10000,
                storage: 1000
            },
            settings: {
                timezone: "UTC",
                currency: "USD",
                date_format: "YYYY-MM-DD"
            }
        });
    }),
    // Market Edge API endpoints
    _msw.http.get(`${API_BASE_URL}/market-edge/competitors`, ({ request })=>{
        const url = new URL(request.url);
        const industry = url.searchParams.get("industry") || "b2b";
        // Simulate different data based on industry
        let mockData;
        switch(industry){
            case "cinema":
                mockData = (0, _index.generateMockApiResponse)("cinema", "venue", 3);
                break;
            case "hotel":
                mockData = (0, _index.generateMockApiResponse)("hotel", "property", 3);
                break;
            case "gym":
                mockData = (0, _index.generateMockApiResponse)("gym", "facility", 3);
                break;
            case "retail":
                mockData = (0, _index.generateMockApiResponse)("retail", "store", 3);
                break;
            default:
                mockData = (0, _index.generateMockApiResponse)("b2b", "client", 3);
        }
        return _msw.HttpResponse.json({
            data: mockData,
            meta: {
                total: mockData.length,
                page: 1,
                per_page: 10,
                industry
            }
        });
    }),
    _msw.http.get(`${API_BASE_URL}/market-edge/analytics`, ({ request })=>{
        const url = new URL(request.url);
        const timeframe = url.searchParams.get("timeframe") || "7d";
        return _msw.HttpResponse.json({
            metrics: {
                revenue: 125000,
                growth: 12.5,
                market_share: 15.2,
                competitor_count: 8
            },
            trends: {
                daily_revenue: [
                    {
                        date: "2024-01-08",
                        value: 18000
                    },
                    {
                        date: "2024-01-09",
                        value: 19200
                    },
                    {
                        date: "2024-01-10",
                        value: 17800
                    },
                    {
                        date: "2024-01-11",
                        value: 20100
                    },
                    {
                        date: "2024-01-12",
                        value: 21500
                    },
                    {
                        date: "2024-01-13",
                        value: 19800
                    },
                    {
                        date: "2024-01-14",
                        value: 22000
                    }
                ]
            },
            timeframe
        });
    }),
    // Feature flags endpoints
    _msw.http.get(`${API_BASE_URL}/features`, ()=>{
        return _msw.HttpResponse.json({
            flags: {
                "market-edge": {
                    enabled: true,
                    rollout: 100
                },
                "advanced-analytics": {
                    enabled: true,
                    rollout: 75
                },
                "real-time-data": {
                    enabled: false,
                    rollout: 25
                },
                "mobile-app": {
                    enabled: true,
                    rollout: 100
                }
            }
        });
    }),
    // Admin endpoints (require admin role)
    _msw.http.get(`${API_BASE_URL}/admin/users`, ({ request })=>{
        const authHeader = request.headers.get("authorization");
        // Simulate role-based access control
        if (!authHeader || authHeader === "Bearer non-admin-token") {
            return _msw.HttpResponse.json({
                detail: "Insufficient permissions"
            }, {
                status: 403
            });
        }
        return _msw.HttpResponse.json({
            users: [
                {
                    id: "user-1",
                    email: "admin@example.com",
                    name: "Admin User",
                    role: "admin",
                    is_active: true
                },
                {
                    id: "user-2",
                    email: "manager@example.com",
                    name: "Manager User",
                    role: "manager",
                    is_active: true
                },
                {
                    id: "user-3",
                    email: "user@example.com",
                    name: "Regular User",
                    role: "user",
                    is_active: true
                }
            ],
            meta: {
                total: 3,
                page: 1,
                per_page: 10
            }
        });
    }),
    // Rate limiting simulation
    _msw.http.get(`${API_BASE_URL}/test/rate-limit`, ()=>{
        // Simulate rate limit headers
        return _msw.HttpResponse.json({
            message: "Rate limit test successful"
        }, {
            headers: {
                "X-RateLimit-Limit": "100",
                "X-RateLimit-Remaining": "95",
                "X-RateLimit-Reset": String(Date.now() + 3600000)
            }
        });
    }),
    _msw.http.get(`${API_BASE_URL}/test/rate-limit-exceeded`, ()=>{
        return _msw.HttpResponse.json({
            error: "Rate limit exceeded",
            message: "Too many requests. Limit: 100 per window",
            retry_after: 60
        }, {
            status: 429,
            headers: {
                "X-RateLimit-Limit": "100",
                "X-RateLimit-Remaining": "0",
                "X-RateLimit-Reset": String(Date.now() + 3600000),
                "Retry-After": "60"
            }
        });
    }),
    // Error simulation endpoints for testing error handling
    _msw.http.get(`${API_BASE_URL}/test/server-error`, ()=>{
        return _msw.HttpResponse.json({
            detail: "Internal server error"
        }, {
            status: 500
        });
    }),
    _msw.http.get(`${API_BASE_URL}/test/network-error`, ()=>{
        return _msw.HttpResponse.error();
    }),
    _msw.http.get(`${API_BASE_URL}/test/timeout`, async ()=>{
        // Simulate a slow response
        await new Promise((resolve)=>setTimeout(resolve, 10000)) // 10 second delay
        ;
        return _msw.HttpResponse.json({
            message: "Slow response"
        });
    }),
    // Fallback handler for unmatched requests
    _msw.http.get("*", ({ request })=>{
        console.warn(`Unhandled GET request to ${request.url}`);
        return _msw.HttpResponse.json({
            detail: `Endpoint not found: ${new URL(request.url).pathname}`
        }, {
            status: 404
        });
    }),
    _msw.http.post("*", ({ request })=>{
        console.warn(`Unhandled POST request to ${request.url}`);
        return _msw.HttpResponse.json({
            detail: `Endpoint not found: ${new URL(request.url).pathname}`
        }, {
            status: 404
        });
    })
];
const server = (0, _node.setupServer)(...handlers);
const mockApiEndpoint = {
    // Mock successful responses
    success: (endpoint, data, status = 200)=>{
        server.use(_msw.http.get(`${API_BASE_URL}${endpoint}`, ()=>{
            return _msw.HttpResponse.json(data, {
                status
            });
        }));
    },
    // Mock error responses
    error: (endpoint, status = 500, message = "Server error")=>{
        server.use(_msw.http.get(`${API_BASE_URL}${endpoint}`, ()=>{
            return _msw.HttpResponse.json({
                detail: message
            }, {
                status
            });
        }));
    },
    // Mock rate limit responses
    rateLimited: (endpoint)=>{
        server.use(_msw.http.get(`${API_BASE_URL}${endpoint}`, ()=>{
            return _msw.HttpResponse.json({
                error: "Rate limit exceeded",
                message: "Too many requests",
                retry_after: 60
            }, {
                status: 429,
                headers: {
                    "X-RateLimit-Limit": "100",
                    "X-RateLimit-Remaining": "0",
                    "Retry-After": "60"
                }
            });
        }));
    },
    // Mock network errors
    networkError: (endpoint)=>{
        server.use(_msw.http.get(`${API_BASE_URL}${endpoint}`, ()=>{
            return _msw.HttpResponse.error();
        }));
    },
    // Mock slow responses
    slow: (endpoint, delay = 5000)=>{
        server.use(_msw.http.get(`${API_BASE_URL}${endpoint}`, async ()=>{
            await new Promise((resolve)=>setTimeout(resolve, delay));
            return _msw.HttpResponse.json({
                message: "Delayed response"
            });
        }));
    }
};
const mockIndustryData = {
    cinema: (endpoint)=>{
        server.use(_msw.http.get(`${API_BASE_URL}${endpoint}`, ()=>{
            return _msw.HttpResponse.json({
                venues: (0, _index.generateMockApiResponse)("cinema", "venue", 5),
                movies: (0, _index.generateMockApiResponse)("cinema", "movie", 10),
                bookings: (0, _index.generateMockApiResponse)("cinema", "booking", 20)
            });
        }));
    },
    hotel: (endpoint)=>{
        server.use(_msw.http.get(`${API_BASE_URL}${endpoint}`, ()=>{
            return _msw.HttpResponse.json({
                properties: (0, _index.generateMockApiResponse)("hotel", "property", 3),
                rooms: (0, _index.generateMockApiResponse)("hotel", "room", 50),
                reservations: (0, _index.generateMockApiResponse)("hotel", "reservation", 30)
            });
        }));
    },
    gym: (endpoint)=>{
        server.use(_msw.http.get(`${API_BASE_URL}${endpoint}`, ()=>{
            return _msw.HttpResponse.json({
                facilities: (0, _index.generateMockApiResponse)("gym", "facility", 2),
                members: (0, _index.generateMockApiResponse)("gym", "member", 100),
                checkins: (0, _index.generateMockApiResponse)("gym", "checkin", 200)
            });
        }));
    },
    retail: (endpoint)=>{
        server.use(_msw.http.get(`${API_BASE_URL}${endpoint}`, ()=>{
            return _msw.HttpResponse.json({
                stores: (0, _index.generateMockApiResponse)("retail", "store", 5),
                products: (0, _index.generateMockApiResponse)("retail", "product", 500),
                sales: (0, _index.generateMockApiResponse)("retail", "sale", 1000)
            });
        }));
    },
    b2b: (endpoint)=>{
        server.use(_msw.http.get(`${API_BASE_URL}${endpoint}`, ()=>{
            return _msw.HttpResponse.json({
                clients: (0, _index.generateMockApiResponse)("b2b", "client", 25),
                projects: (0, _index.generateMockApiResponse)("b2b", "project", 50),
                reports: (0, _index.generateMockApiResponse)("b2b", "report", 100)
            });
        }));
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0L1NpdGVzL01hcmtldEVkZ2UvcGxhdGZvcm0td3JhcHBlci9mcm9udGVuZC9zcmMvdGVzdC11dGlscy9tb2Nrcy9zZXJ2ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBNb2NrIFNlcnZpY2UgV29ya2VyIChNU1cpIFNlcnZlciBTZXR1cFxuICogXG4gKiBQcm92aWRlcyBBUEkgbW9ja2luZyBmb3IgdGVzdGluZyBtdWx0aS10ZW5hbnQgc2NlbmFyaW9zLlxuICogSGFuZGxlcyBhdXRoZW50aWNhdGlvbiwgdGVuYW50LXNwZWNpZmljIGRhdGEsIGFuZCByYXRlIGxpbWl0aW5nIHJlc3BvbnNlcy5cbiAqL1xuXG5pbXBvcnQgeyBzZXR1cFNlcnZlciB9IGZyb20gJ21zdy9ub2RlJ1xuaW1wb3J0IHsgaHR0cCwgSHR0cFJlc3BvbnNlIH0gZnJvbSAnbXN3J1xuaW1wb3J0IHsgZ2VuZXJhdGVNb2NrQXBpUmVzcG9uc2UsIG1vY2tEYXRhR2VuZXJhdG9ycyB9IGZyb20gJy4uL2luZGV4J1xuXG4vLyBCYXNlIEFQSSBVUkwgZm9yIG1vY2tpbmdcbmNvbnN0IEFQSV9CQVNFX1VSTCA9ICdodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL3YxJ1xuXG4vLyBNb2NrIGhhbmRsZXJzIGZvciBkaWZmZXJlbnQgQVBJIGVuZHBvaW50c1xuY29uc3QgaGFuZGxlcnMgPSBbXG4gIC8vIEF1dGhlbnRpY2F0aW9uIGVuZHBvaW50c1xuICBodHRwLnBvc3QoYCR7QVBJX0JBU0VfVVJMfS9hdXRoL2xvZ2luYCwgYXN5bmMgKHsgcmVxdWVzdCB9KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgY29uc3QgeyBjb2RlLCByZWRpcmVjdF91cmkgfSA9IGJvZHkgYXMgYW55XG4gICAgXG4gICAgLy8gTW9jayBzdWNjZXNzZnVsIGxvZ2luIGZvciBzcGVjaWZpYyB0ZXN0IGNvZGVcbiAgICBpZiAoY29kZSA9PT0gJ3ZhbGlkLWF1dGgtY29kZScgfHwgY29kZSA9PT0gJ3Rlc3QtYXV0aC1jb2RlJykge1xuICAgICAgcmV0dXJuIEh0dHBSZXNwb25zZS5qc29uKHtcbiAgICAgICAgYWNjZXNzX3Rva2VuOiAnbW9jay1qd3QtdG9rZW4nLFxuICAgICAgICByZWZyZXNoX3Rva2VuOiAnbW9jay1yZWZyZXNoLXRva2VuJyxcbiAgICAgICAgdG9rZW5fdHlwZTogJ2JlYXJlcicsXG4gICAgICAgIHVzZXI6IHtcbiAgICAgICAgICBpZDogJ3Rlc3QtdXNlci00NTYnLFxuICAgICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgICAgZmlyc3RfbmFtZTogJ1Rlc3QnLFxuICAgICAgICAgIGxhc3RfbmFtZTogJ1VzZXInLFxuICAgICAgICAgIHJvbGU6ICdhbmFseXN0JyxcbiAgICAgICAgICBvcmdhbmlzYXRpb25faWQ6ICd0ZXN0LXRlbmFudC0xMjMnLFxuICAgICAgICAgIGlzX2FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0sIHsgc3RhdHVzOiAyMDAgfSlcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIEh0dHBSZXNwb25zZS5qc29uKFxuICAgICAgeyBkZXRhaWw6ICdJbnZhbGlkIGF1dGhvcml6YXRpb24gY29kZScgfSxcbiAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgIClcbiAgfSksXG5cbiAgLy8gQXV0aDAgVVJMIGVuZHBvaW50XG4gIGh0dHAuZ2V0KGAke0FQSV9CQVNFX1VSTH0vYXV0aC9hdXRoMC11cmxgLCAoeyByZXF1ZXN0IH0pID0+IHtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuICAgIGNvbnN0IHJlZGlyZWN0VXJpID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3JlZGlyZWN0X3VyaScpXG4gICAgXG4gICAgcmV0dXJuIEh0dHBSZXNwb25zZS5qc29uKHtcbiAgICAgIGF1dGhfdXJsOiBgaHR0cHM6Ly9kZXYtcGxhdGZvcm0uYXV0aDAuY29tL2F1dGhvcml6ZT9yZXNwb25zZV90eXBlPWNvZGUmY2xpZW50X2lkPXRlc3QmcmVkaXJlY3RfdXJpPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHJlZGlyZWN0VXJpIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvY2FsbGJhY2snKX0mc2NvcGU9b3BlbmlkJTIwcHJvZmlsZSUyMGVtYWlsYFxuICAgIH0pXG4gIH0pLFxuXG4gIC8vIFVzZXIgcHJvZmlsZSBlbmRwb2ludCAoQXV0aDAgc3R5bGUpXG4gIGh0dHAuZ2V0KGAke0FQSV9CQVNFX1VSTH0vYXV0aC9tZWAsICh7IHJlcXVlc3QgfSkgPT4ge1xuICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJylcbiAgICBcbiAgICBpZiAoIWF1dGhIZWFkZXIgfHwgIWF1dGhIZWFkZXIuc3RhcnRzV2l0aCgnQmVhcmVyICcpKSB7XG4gICAgICByZXR1cm4gSHR0cFJlc3BvbnNlLmpzb24oeyBkZXRhaWw6ICdOb3QgYXV0aGVudGljYXRlZCcgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gSHR0cFJlc3BvbnNlLmpzb24oe1xuICAgICAgaWQ6ICd0ZXN0LXVzZXItNDU2JyxcbiAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICBmaXJzdF9uYW1lOiAnVGVzdCcsXG4gICAgICBsYXN0X25hbWU6ICdVc2VyJyxcbiAgICAgIHJvbGU6ICdhbmFseXN0JyxcbiAgICAgIG9yZ2FuaXNhdGlvbl9pZDogJ3Rlc3QtdGVuYW50LTEyMycsXG4gICAgICBpc19hY3RpdmU6IHRydWUsXG4gICAgfSlcbiAgfSksXG5cbiAgaHR0cC5wb3N0KGAke0FQSV9CQVNFX1VSTH0vYXV0aC9yZWZyZXNoYCwgKCkgPT4ge1xuICAgIHJldHVybiBIdHRwUmVzcG9uc2UuanNvbih7XG4gICAgICBhY2Nlc3NfdG9rZW46ICduZXctbW9jay1qd3QtdG9rZW4nLFxuICAgICAgdG9rZW5fdHlwZTogJ2JlYXJlcicsXG4gICAgICBleHBpcmVzX2luOiAzNjAwLFxuICAgIH0sIHsgc3RhdHVzOiAyMDAgfSlcbiAgfSksXG5cbiAgaHR0cC5wb3N0KGAke0FQSV9CQVNFX1VSTH0vYXV0aC9sb2dvdXRgLCAoKSA9PiB7XG4gICAgcmV0dXJuIEh0dHBSZXNwb25zZS5qc29uKFxuICAgICAgeyBtZXNzYWdlOiAnTG9nZ2VkIG91dCBzdWNjZXNzZnVsbHknIH0sXG4gICAgICB7IHN0YXR1czogMjAwIH1cbiAgICApXG4gIH0pLFxuXG4gIC8vIFVzZXIgcHJvZmlsZSBlbmRwb2ludHNcbiAgaHR0cC5nZXQoYCR7QVBJX0JBU0VfVVJMfS91c2Vycy9tZWAsICh7IHJlcXVlc3QgfSkgPT4ge1xuICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJylcbiAgICBcbiAgICBpZiAoIWF1dGhIZWFkZXIgfHwgIWF1dGhIZWFkZXIuc3RhcnRzV2l0aCgnQmVhcmVyICcpKSB7XG4gICAgICByZXR1cm4gSHR0cFJlc3BvbnNlLmpzb24oeyBkZXRhaWw6ICdOb3QgYXV0aGVudGljYXRlZCcgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gSHR0cFJlc3BvbnNlLmpzb24oe1xuICAgICAgaWQ6ICd0ZXN0LXVzZXItNDU2JyxcbiAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICBuYW1lOiAnVGVzdCBVc2VyJyxcbiAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgIG9yZ2FuaXphdGlvbl9pZDogJ3Rlc3QtdGVuYW50LTEyMycsXG4gICAgICBwZXJtaXNzaW9uczogWydyZWFkOmRhdGEnLCAnd3JpdGU6ZGF0YSddLFxuICAgICAgaXNfYWN0aXZlOiB0cnVlLFxuICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgfSlcbiAgfSksXG5cbiAgLy8gT3JnYW5pemF0aW9uIGVuZHBvaW50c1xuICBodHRwLmdldChgJHtBUElfQkFTRV9VUkx9L29yZ2FuaXphdGlvbnMvbWVgLCAoKSA9PiB7XG4gICAgcmV0dXJuIEh0dHBSZXNwb25zZS5qc29uKHtcbiAgICAgIGlkOiAndGVzdC10ZW5hbnQtMTIzJyxcbiAgICAgIG5hbWU6ICdUZXN0IE9yZ2FuaXphdGlvbicsXG4gICAgICBpbmR1c3RyeTogJ2IyYicsXG4gICAgICBzdWJzY3JpcHRpb246ICdwcmVtaXVtJyxcbiAgICAgIGZlYXR1cmVzOiBbJ21hcmtldC1lZGdlJywgJ2FuYWx5dGljcycsICdyZXBvcnRpbmcnXSxcbiAgICAgIGxpbWl0czoge1xuICAgICAgICB1c2VyczogMTAwLFxuICAgICAgICBhcGlfY2FsbHM6IDEwMDAwLFxuICAgICAgICBzdG9yYWdlOiAxMDAwLFxuICAgICAgfSxcbiAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgIHRpbWV6b25lOiAnVVRDJyxcbiAgICAgICAgY3VycmVuY3k6ICdVU0QnLFxuICAgICAgICBkYXRlX2Zvcm1hdDogJ1lZWVktTU0tREQnLFxuICAgICAgfSxcbiAgICB9KVxuICB9KSxcblxuICAvLyBNYXJrZXQgRWRnZSBBUEkgZW5kcG9pbnRzXG4gIGh0dHAuZ2V0KGAke0FQSV9CQVNFX1VSTH0vbWFya2V0LWVkZ2UvY29tcGV0aXRvcnNgLCAoeyByZXF1ZXN0IH0pID0+IHtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuICAgIGNvbnN0IGluZHVzdHJ5ID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2luZHVzdHJ5JykgfHwgJ2IyYidcbiAgICBcbiAgICAvLyBTaW11bGF0ZSBkaWZmZXJlbnQgZGF0YSBiYXNlZCBvbiBpbmR1c3RyeVxuICAgIGxldCBtb2NrRGF0YVxuICAgIHN3aXRjaCAoaW5kdXN0cnkpIHtcbiAgICAgIGNhc2UgJ2NpbmVtYSc6XG4gICAgICAgIG1vY2tEYXRhID0gZ2VuZXJhdGVNb2NrQXBpUmVzcG9uc2UoJ2NpbmVtYScsICd2ZW51ZScsIDMpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdob3RlbCc6XG4gICAgICAgIG1vY2tEYXRhID0gZ2VuZXJhdGVNb2NrQXBpUmVzcG9uc2UoJ2hvdGVsJywgJ3Byb3BlcnR5JywgMylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2d5bSc6XG4gICAgICAgIG1vY2tEYXRhID0gZ2VuZXJhdGVNb2NrQXBpUmVzcG9uc2UoJ2d5bScsICdmYWNpbGl0eScsIDMpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdyZXRhaWwnOlxuICAgICAgICBtb2NrRGF0YSA9IGdlbmVyYXRlTW9ja0FwaVJlc3BvbnNlKCdyZXRhaWwnLCAnc3RvcmUnLCAzKVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbW9ja0RhdGEgPSBnZW5lcmF0ZU1vY2tBcGlSZXNwb25zZSgnYjJiJywgJ2NsaWVudCcsIDMpXG4gICAgfVxuXG4gICAgcmV0dXJuIEh0dHBSZXNwb25zZS5qc29uKHtcbiAgICAgIGRhdGE6IG1vY2tEYXRhLFxuICAgICAgbWV0YToge1xuICAgICAgICB0b3RhbDogbW9ja0RhdGEubGVuZ3RoLFxuICAgICAgICBwYWdlOiAxLFxuICAgICAgICBwZXJfcGFnZTogMTAsXG4gICAgICAgIGluZHVzdHJ5LFxuICAgICAgfSxcbiAgICB9KVxuICB9KSxcblxuICBodHRwLmdldChgJHtBUElfQkFTRV9VUkx9L21hcmtldC1lZGdlL2FuYWx5dGljc2AsICh7IHJlcXVlc3QgfSkgPT4ge1xuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpXG4gICAgY29uc3QgdGltZWZyYW1lID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3RpbWVmcmFtZScpIHx8ICc3ZCdcbiAgICBcbiAgICByZXR1cm4gSHR0cFJlc3BvbnNlLmpzb24oe1xuICAgICAgbWV0cmljczoge1xuICAgICAgICByZXZlbnVlOiAxMjUwMDAsXG4gICAgICAgIGdyb3d0aDogMTIuNSxcbiAgICAgICAgbWFya2V0X3NoYXJlOiAxNS4yLFxuICAgICAgICBjb21wZXRpdG9yX2NvdW50OiA4LFxuICAgICAgfSxcbiAgICAgIHRyZW5kczoge1xuICAgICAgICBkYWlseV9yZXZlbnVlOiBbXG4gICAgICAgICAgeyBkYXRlOiAnMjAyNC0wMS0wOCcsIHZhbHVlOiAxODAwMCB9LFxuICAgICAgICAgIHsgZGF0ZTogJzIwMjQtMDEtMDknLCB2YWx1ZTogMTkyMDAgfSxcbiAgICAgICAgICB7IGRhdGU6ICcyMDI0LTAxLTEwJywgdmFsdWU6IDE3ODAwIH0sXG4gICAgICAgICAgeyBkYXRlOiAnMjAyNC0wMS0xMScsIHZhbHVlOiAyMDEwMCB9LFxuICAgICAgICAgIHsgZGF0ZTogJzIwMjQtMDEtMTInLCB2YWx1ZTogMjE1MDAgfSxcbiAgICAgICAgICB7IGRhdGU6ICcyMDI0LTAxLTEzJywgdmFsdWU6IDE5ODAwIH0sXG4gICAgICAgICAgeyBkYXRlOiAnMjAyNC0wMS0xNCcsIHZhbHVlOiAyMjAwMCB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHRpbWVmcmFtZSxcbiAgICB9KVxuICB9KSxcblxuICAvLyBGZWF0dXJlIGZsYWdzIGVuZHBvaW50c1xuICBodHRwLmdldChgJHtBUElfQkFTRV9VUkx9L2ZlYXR1cmVzYCwgKCkgPT4ge1xuICAgIHJldHVybiBIdHRwUmVzcG9uc2UuanNvbih7XG4gICAgICBmbGFnczoge1xuICAgICAgICAnbWFya2V0LWVkZ2UnOiB7IGVuYWJsZWQ6IHRydWUsIHJvbGxvdXQ6IDEwMCB9LFxuICAgICAgICAnYWR2YW5jZWQtYW5hbHl0aWNzJzogeyBlbmFibGVkOiB0cnVlLCByb2xsb3V0OiA3NSB9LFxuICAgICAgICAncmVhbC10aW1lLWRhdGEnOiB7IGVuYWJsZWQ6IGZhbHNlLCByb2xsb3V0OiAyNSB9LFxuICAgICAgICAnbW9iaWxlLWFwcCc6IHsgZW5hYmxlZDogdHJ1ZSwgcm9sbG91dDogMTAwIH0sXG4gICAgICB9LFxuICAgIH0pXG4gIH0pLFxuXG4gIC8vIEFkbWluIGVuZHBvaW50cyAocmVxdWlyZSBhZG1pbiByb2xlKVxuICBodHRwLmdldChgJHtBUElfQkFTRV9VUkx9L2FkbWluL3VzZXJzYCwgKHsgcmVxdWVzdCB9KSA9PiB7XG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ2F1dGhvcml6YXRpb24nKVxuICAgIFxuICAgIC8vIFNpbXVsYXRlIHJvbGUtYmFzZWQgYWNjZXNzIGNvbnRyb2xcbiAgICBpZiAoIWF1dGhIZWFkZXIgfHwgYXV0aEhlYWRlciA9PT0gJ0JlYXJlciBub24tYWRtaW4tdG9rZW4nKSB7XG4gICAgICByZXR1cm4gSHR0cFJlc3BvbnNlLmpzb24oeyBkZXRhaWw6ICdJbnN1ZmZpY2llbnQgcGVybWlzc2lvbnMnIH0sIHsgc3RhdHVzOiA0MDMgfSlcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIEh0dHBSZXNwb25zZS5qc29uKHtcbiAgICAgIHVzZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3VzZXItMScsXG4gICAgICAgICAgZW1haWw6ICdhZG1pbkBleGFtcGxlLmNvbScsXG4gICAgICAgICAgbmFtZTogJ0FkbWluIFVzZXInLFxuICAgICAgICAgIHJvbGU6ICdhZG1pbicsXG4gICAgICAgICAgaXNfYWN0aXZlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICd1c2VyLTInLFxuICAgICAgICAgIGVtYWlsOiAnbWFuYWdlckBleGFtcGxlLmNvbScsXG4gICAgICAgICAgbmFtZTogJ01hbmFnZXIgVXNlcicsXG4gICAgICAgICAgcm9sZTogJ21hbmFnZXInLFxuICAgICAgICAgIGlzX2FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAndXNlci0zJyxcbiAgICAgICAgICBlbWFpbDogJ3VzZXJAZXhhbXBsZS5jb20nLFxuICAgICAgICAgIG5hbWU6ICdSZWd1bGFyIFVzZXInLFxuICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICBpc19hY3RpdmU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgbWV0YTogeyB0b3RhbDogMywgcGFnZTogMSwgcGVyX3BhZ2U6IDEwIH0sXG4gICAgfSlcbiAgfSksXG5cbiAgLy8gUmF0ZSBsaW1pdGluZyBzaW11bGF0aW9uXG4gIGh0dHAuZ2V0KGAke0FQSV9CQVNFX1VSTH0vdGVzdC9yYXRlLWxpbWl0YCwgKCkgPT4ge1xuICAgIC8vIFNpbXVsYXRlIHJhdGUgbGltaXQgaGVhZGVyc1xuICAgIHJldHVybiBIdHRwUmVzcG9uc2UuanNvbihcbiAgICAgIHsgbWVzc2FnZTogJ1JhdGUgbGltaXQgdGVzdCBzdWNjZXNzZnVsJyB9LFxuICAgICAge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ1gtUmF0ZUxpbWl0LUxpbWl0JzogJzEwMCcsXG4gICAgICAgICAgJ1gtUmF0ZUxpbWl0LVJlbWFpbmluZyc6ICc5NScsXG4gICAgICAgICAgJ1gtUmF0ZUxpbWl0LVJlc2V0JzogU3RyaW5nKERhdGUubm93KCkgKyAzNjAwMDAwKSxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIClcbiAgfSksXG5cbiAgaHR0cC5nZXQoYCR7QVBJX0JBU0VfVVJMfS90ZXN0L3JhdGUtbGltaXQtZXhjZWVkZWRgLCAoKSA9PiB7XG4gICAgcmV0dXJuIEh0dHBSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBlcnJvcjogJ1JhdGUgbGltaXQgZXhjZWVkZWQnLFxuICAgICAgICBtZXNzYWdlOiAnVG9vIG1hbnkgcmVxdWVzdHMuIExpbWl0OiAxMDAgcGVyIHdpbmRvdycsXG4gICAgICAgIHJldHJ5X2FmdGVyOiA2MCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHN0YXR1czogNDI5LFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ1gtUmF0ZUxpbWl0LUxpbWl0JzogJzEwMCcsXG4gICAgICAgICAgJ1gtUmF0ZUxpbWl0LVJlbWFpbmluZyc6ICcwJyxcbiAgICAgICAgICAnWC1SYXRlTGltaXQtUmVzZXQnOiBTdHJpbmcoRGF0ZS5ub3coKSArIDM2MDAwMDApLFxuICAgICAgICAgICdSZXRyeS1BZnRlcic6ICc2MCcsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApXG4gIH0pLFxuXG4gIC8vIEVycm9yIHNpbXVsYXRpb24gZW5kcG9pbnRzIGZvciB0ZXN0aW5nIGVycm9yIGhhbmRsaW5nXG4gIGh0dHAuZ2V0KGAke0FQSV9CQVNFX1VSTH0vdGVzdC9zZXJ2ZXItZXJyb3JgLCAoKSA9PiB7XG4gICAgcmV0dXJuIEh0dHBSZXNwb25zZS5qc29uKHsgZGV0YWlsOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pXG4gIH0pLFxuXG4gIGh0dHAuZ2V0KGAke0FQSV9CQVNFX1VSTH0vdGVzdC9uZXR3b3JrLWVycm9yYCwgKCkgPT4ge1xuICAgIHJldHVybiBIdHRwUmVzcG9uc2UuZXJyb3IoKVxuICB9KSxcblxuICBodHRwLmdldChgJHtBUElfQkFTRV9VUkx9L3Rlc3QvdGltZW91dGAsIGFzeW5jICgpID0+IHtcbiAgICAvLyBTaW11bGF0ZSBhIHNsb3cgcmVzcG9uc2VcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMDApKSAvLyAxMCBzZWNvbmQgZGVsYXlcbiAgICByZXR1cm4gSHR0cFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiAnU2xvdyByZXNwb25zZScgfSlcbiAgfSksXG5cbiAgLy8gRmFsbGJhY2sgaGFuZGxlciBmb3IgdW5tYXRjaGVkIHJlcXVlc3RzXG4gIGh0dHAuZ2V0KCcqJywgKHsgcmVxdWVzdCB9KSA9PiB7XG4gICAgY29uc29sZS53YXJuKGBVbmhhbmRsZWQgR0VUIHJlcXVlc3QgdG8gJHtyZXF1ZXN0LnVybH1gKVxuICAgIHJldHVybiBIdHRwUmVzcG9uc2UuanNvbihcbiAgICAgIHsgZGV0YWlsOiBgRW5kcG9pbnQgbm90IGZvdW5kOiAke25ldyBVUkwocmVxdWVzdC51cmwpLnBhdGhuYW1lfWAgfSxcbiAgICAgIHsgc3RhdHVzOiA0MDQgfVxuICAgIClcbiAgfSksXG5cbiAgaHR0cC5wb3N0KCcqJywgKHsgcmVxdWVzdCB9KSA9PiB7XG4gICAgY29uc29sZS53YXJuKGBVbmhhbmRsZWQgUE9TVCByZXF1ZXN0IHRvICR7cmVxdWVzdC51cmx9YClcbiAgICByZXR1cm4gSHR0cFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGRldGFpbDogYEVuZHBvaW50IG5vdCBmb3VuZDogJHtuZXcgVVJMKHJlcXVlc3QudXJsKS5wYXRobmFtZX1gIH0sXG4gICAgICB7IHN0YXR1czogNDA0IH1cbiAgICApXG4gIH0pLFxuXVxuXG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgc2VydmVyXG5leHBvcnQgY29uc3Qgc2VydmVyID0gc2V0dXBTZXJ2ZXIoLi4uaGFuZGxlcnMpXG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIHRlc3Qtc3BlY2lmaWMgbW9ja2luZ1xuZXhwb3J0IGNvbnN0IG1vY2tBcGlFbmRwb2ludCA9IHtcbiAgLy8gTW9jayBzdWNjZXNzZnVsIHJlc3BvbnNlc1xuICBzdWNjZXNzOiAoZW5kcG9pbnQ6IHN0cmluZywgZGF0YTogYW55LCBzdGF0dXMgPSAyMDApID0+IHtcbiAgICBzZXJ2ZXIudXNlKFxuICAgICAgaHR0cC5nZXQoYCR7QVBJX0JBU0VfVVJMfSR7ZW5kcG9pbnR9YCwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gSHR0cFJlc3BvbnNlLmpzb24oZGF0YSwgeyBzdGF0dXMgfSlcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuXG4gIC8vIE1vY2sgZXJyb3IgcmVzcG9uc2VzXG4gIGVycm9yOiAoZW5kcG9pbnQ6IHN0cmluZywgc3RhdHVzID0gNTAwLCBtZXNzYWdlID0gJ1NlcnZlciBlcnJvcicpID0+IHtcbiAgICBzZXJ2ZXIudXNlKFxuICAgICAgaHR0cC5nZXQoYCR7QVBJX0JBU0VfVVJMfSR7ZW5kcG9pbnR9YCwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gSHR0cFJlc3BvbnNlLmpzb24oeyBkZXRhaWw6IG1lc3NhZ2UgfSwgeyBzdGF0dXMgfSlcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuXG4gIC8vIE1vY2sgcmF0ZSBsaW1pdCByZXNwb25zZXNcbiAgcmF0ZUxpbWl0ZWQ6IChlbmRwb2ludDogc3RyaW5nKSA9PiB7XG4gICAgc2VydmVyLnVzZShcbiAgICAgIGh0dHAuZ2V0KGAke0FQSV9CQVNFX1VSTH0ke2VuZHBvaW50fWAsICgpID0+IHtcbiAgICAgICAgcmV0dXJuIEh0dHBSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yOiAnUmF0ZSBsaW1pdCBleGNlZWRlZCcsXG4gICAgICAgICAgICBtZXNzYWdlOiAnVG9vIG1hbnkgcmVxdWVzdHMnLFxuICAgICAgICAgICAgcmV0cnlfYWZ0ZXI6IDYwLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3RhdHVzOiA0MjksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICdYLVJhdGVMaW1pdC1MaW1pdCc6ICcxMDAnLFxuICAgICAgICAgICAgICAnWC1SYXRlTGltaXQtUmVtYWluaW5nJzogJzAnLFxuICAgICAgICAgICAgICAnUmV0cnktQWZ0ZXInOiAnNjAnLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfSlcbiAgICApXG4gIH0sXG5cbiAgLy8gTW9jayBuZXR3b3JrIGVycm9yc1xuICBuZXR3b3JrRXJyb3I6IChlbmRwb2ludDogc3RyaW5nKSA9PiB7XG4gICAgc2VydmVyLnVzZShcbiAgICAgIGh0dHAuZ2V0KGAke0FQSV9CQVNFX1VSTH0ke2VuZHBvaW50fWAsICgpID0+IHtcbiAgICAgICAgcmV0dXJuIEh0dHBSZXNwb25zZS5lcnJvcigpXG4gICAgICB9KVxuICAgIClcbiAgfSxcblxuICAvLyBNb2NrIHNsb3cgcmVzcG9uc2VzXG4gIHNsb3c6IChlbmRwb2ludDogc3RyaW5nLCBkZWxheSA9IDUwMDApID0+IHtcbiAgICBzZXJ2ZXIudXNlKFxuICAgICAgaHR0cC5nZXQoYCR7QVBJX0JBU0VfVVJMfSR7ZW5kcG9pbnR9YCwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKVxuICAgICAgICByZXR1cm4gSHR0cFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiAnRGVsYXllZCByZXNwb25zZScgfSlcbiAgICAgIH0pXG4gICAgKVxuICB9LFxufVxuXG4vLyBJbmR1c3RyeS1zcGVjaWZpYyBtb2NrIGhlbHBlcnNcbmV4cG9ydCBjb25zdCBtb2NrSW5kdXN0cnlEYXRhID0ge1xuICBjaW5lbWE6IChlbmRwb2ludDogc3RyaW5nKSA9PiB7XG4gICAgc2VydmVyLnVzZShcbiAgICAgIGh0dHAuZ2V0KGAke0FQSV9CQVNFX1VSTH0ke2VuZHBvaW50fWAsICgpID0+IHtcbiAgICAgICAgcmV0dXJuIEh0dHBSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICB2ZW51ZXM6IGdlbmVyYXRlTW9ja0FwaVJlc3BvbnNlKCdjaW5lbWEnLCAndmVudWUnLCA1KSxcbiAgICAgICAgICBtb3ZpZXM6IGdlbmVyYXRlTW9ja0FwaVJlc3BvbnNlKCdjaW5lbWEnLCAnbW92aWUnLCAxMCksXG4gICAgICAgICAgYm9va2luZ3M6IGdlbmVyYXRlTW9ja0FwaVJlc3BvbnNlKCdjaW5lbWEnLCAnYm9va2luZycsIDIwKSxcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuXG4gIGhvdGVsOiAoZW5kcG9pbnQ6IHN0cmluZykgPT4ge1xuICAgIHNlcnZlci51c2UoXG4gICAgICBodHRwLmdldChgJHtBUElfQkFTRV9VUkx9JHtlbmRwb2ludH1gLCAoKSA9PiB7XG4gICAgICAgIHJldHVybiBIdHRwUmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgcHJvcGVydGllczogZ2VuZXJhdGVNb2NrQXBpUmVzcG9uc2UoJ2hvdGVsJywgJ3Byb3BlcnR5JywgMyksXG4gICAgICAgICAgcm9vbXM6IGdlbmVyYXRlTW9ja0FwaVJlc3BvbnNlKCdob3RlbCcsICdyb29tJywgNTApLFxuICAgICAgICAgIHJlc2VydmF0aW9uczogZ2VuZXJhdGVNb2NrQXBpUmVzcG9uc2UoJ2hvdGVsJywgJ3Jlc2VydmF0aW9uJywgMzApLFxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICApXG4gIH0sXG5cbiAgZ3ltOiAoZW5kcG9pbnQ6IHN0cmluZykgPT4ge1xuICAgIHNlcnZlci51c2UoXG4gICAgICBodHRwLmdldChgJHtBUElfQkFTRV9VUkx9JHtlbmRwb2ludH1gLCAoKSA9PiB7XG4gICAgICAgIHJldHVybiBIdHRwUmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgZmFjaWxpdGllczogZ2VuZXJhdGVNb2NrQXBpUmVzcG9uc2UoJ2d5bScsICdmYWNpbGl0eScsIDIpLFxuICAgICAgICAgIG1lbWJlcnM6IGdlbmVyYXRlTW9ja0FwaVJlc3BvbnNlKCdneW0nLCAnbWVtYmVyJywgMTAwKSxcbiAgICAgICAgICBjaGVja2luczogZ2VuZXJhdGVNb2NrQXBpUmVzcG9uc2UoJ2d5bScsICdjaGVja2luJywgMjAwKSxcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuXG4gIHJldGFpbDogKGVuZHBvaW50OiBzdHJpbmcpID0+IHtcbiAgICBzZXJ2ZXIudXNlKFxuICAgICAgaHR0cC5nZXQoYCR7QVBJX0JBU0VfVVJMfSR7ZW5kcG9pbnR9YCwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gSHR0cFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIHN0b3JlczogZ2VuZXJhdGVNb2NrQXBpUmVzcG9uc2UoJ3JldGFpbCcsICdzdG9yZScsIDUpLFxuICAgICAgICAgIHByb2R1Y3RzOiBnZW5lcmF0ZU1vY2tBcGlSZXNwb25zZSgncmV0YWlsJywgJ3Byb2R1Y3QnLCA1MDApLFxuICAgICAgICAgIHNhbGVzOiBnZW5lcmF0ZU1vY2tBcGlSZXNwb25zZSgncmV0YWlsJywgJ3NhbGUnLCAxMDAwKSxcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuXG4gIGIyYjogKGVuZHBvaW50OiBzdHJpbmcpID0+IHtcbiAgICBzZXJ2ZXIudXNlKFxuICAgICAgaHR0cC5nZXQoYCR7QVBJX0JBU0VfVVJMfSR7ZW5kcG9pbnR9YCwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gSHR0cFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIGNsaWVudHM6IGdlbmVyYXRlTW9ja0FwaVJlc3BvbnNlKCdiMmInLCAnY2xpZW50JywgMjUpLFxuICAgICAgICAgIHByb2plY3RzOiBnZW5lcmF0ZU1vY2tBcGlSZXNwb25zZSgnYjJiJywgJ3Byb2plY3QnLCA1MCksXG4gICAgICAgICAgcmVwb3J0czogZ2VuZXJhdGVNb2NrQXBpUmVzcG9uc2UoJ2IyYicsICdyZXBvcnQnLCAxMDApLFxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICApXG4gIH0sXG59Il0sIm5hbWVzIjpbIm1vY2tBcGlFbmRwb2ludCIsIm1vY2tJbmR1c3RyeURhdGEiLCJzZXJ2ZXIiLCJBUElfQkFTRV9VUkwiLCJoYW5kbGVycyIsImh0dHAiLCJwb3N0IiwicmVxdWVzdCIsImJvZHkiLCJqc29uIiwiY29kZSIsInJlZGlyZWN0X3VyaSIsIkh0dHBSZXNwb25zZSIsImFjY2Vzc190b2tlbiIsInJlZnJlc2hfdG9rZW4iLCJ0b2tlbl90eXBlIiwidXNlciIsImlkIiwiZW1haWwiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwicm9sZSIsIm9yZ2FuaXNhdGlvbl9pZCIsImlzX2FjdGl2ZSIsInN0YXR1cyIsImRldGFpbCIsImdldCIsInVybCIsIlVSTCIsInJlZGlyZWN0VXJpIiwic2VhcmNoUGFyYW1zIiwiYXV0aF91cmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsInN0YXJ0c1dpdGgiLCJleHBpcmVzX2luIiwibWVzc2FnZSIsIm5hbWUiLCJvcmdhbml6YXRpb25faWQiLCJwZXJtaXNzaW9ucyIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwiaW5kdXN0cnkiLCJzdWJzY3JpcHRpb24iLCJmZWF0dXJlcyIsImxpbWl0cyIsInVzZXJzIiwiYXBpX2NhbGxzIiwic3RvcmFnZSIsInNldHRpbmdzIiwidGltZXpvbmUiLCJjdXJyZW5jeSIsImRhdGVfZm9ybWF0IiwibW9ja0RhdGEiLCJnZW5lcmF0ZU1vY2tBcGlSZXNwb25zZSIsImRhdGEiLCJtZXRhIiwidG90YWwiLCJsZW5ndGgiLCJwYWdlIiwicGVyX3BhZ2UiLCJ0aW1lZnJhbWUiLCJtZXRyaWNzIiwicmV2ZW51ZSIsImdyb3d0aCIsIm1hcmtldF9zaGFyZSIsImNvbXBldGl0b3JfY291bnQiLCJ0cmVuZHMiLCJkYWlseV9yZXZlbnVlIiwiZGF0ZSIsInZhbHVlIiwiZmxhZ3MiLCJlbmFibGVkIiwicm9sbG91dCIsIlN0cmluZyIsIkRhdGUiLCJub3ciLCJlcnJvciIsInJldHJ5X2FmdGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiY29uc29sZSIsIndhcm4iLCJwYXRobmFtZSIsInNldHVwU2VydmVyIiwic3VjY2VzcyIsImVuZHBvaW50IiwidXNlIiwicmF0ZUxpbWl0ZWQiLCJuZXR3b3JrRXJyb3IiLCJzbG93IiwiZGVsYXkiLCJjaW5lbWEiLCJ2ZW51ZXMiLCJtb3ZpZXMiLCJib29raW5ncyIsImhvdGVsIiwicHJvcGVydGllcyIsInJvb21zIiwicmVzZXJ2YXRpb25zIiwiZ3ltIiwiZmFjaWxpdGllcyIsIm1lbWJlcnMiLCJjaGVja2lucyIsInJldGFpbCIsInN0b3JlcyIsInByb2R1Y3RzIiwic2FsZXMiLCJiMmIiLCJjbGllbnRzIiwicHJvamVjdHMiLCJyZXBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Q0FLQzs7Ozs7Ozs7Ozs7SUFtVFlBLGVBQWU7ZUFBZkE7O0lBK0RBQyxnQkFB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